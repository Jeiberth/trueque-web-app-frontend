import{s as ai,S as ni}from"./successErrorCard-DQXuWvZR.js";import{_ as It,H as ri,o as A,c as M,a as d,e as le,v as He,I as oi,t as D,q as Fe,F as pe,p as Ce,i as Ae,k as _t,r as y,d as Ke,G as Je,J as li,x as St,K as me,L as Tt,n as ci,M as ui,D as Pe,b as hi,E as yt,h as Et,j as wt,S as di,l as fi}from"./index-aGGjBsn2.js";const pi=ri({name:"searchelement",emits:["searchThingsEmit","showFiltersEmit"],setup(c,{emit:u}){const H=_t(),v=y({searchTerm:"",price:"",condition:"",weight:"",category:"",material:"",color:"",range:""}),g=y(null),z=y(!1),l=y([]),w=y([]),T=y([]),E=y([]),L=y(!1),$=P=>v.value.category.includes(P),I=(P,ce)=>{if(ce)v.value.category.push(P);else{const _=v.value.category.indexOf(P);_>-1&&v.value.category.splice(_,1)}},R=()=>{z.value=!1,u("searchThingsEmit",v.value),v.value={searchTerm:"",price:"",condition:"",weight:"",category:"",range:"",material:"",color:""}},x=()=>{z.value=!0,u("showFiltersEmit")},N=P=>{g.value&&!g.value.contains(P.target)&&(L.value=!1)};return Ke(async()=>{document.addEventListener("click",N),l.value=H.getters.getConditions,w.value=H.getters.getCategories,T.value=H.getters.getMaterials,E.value=H.getters.getColors}),Je(()=>{document.removeEventListener("click",N)}),{filters:v,conditions:l,categories:w,materials:T,colors:E,showCategories:L,isChecked:$,updateCategories:I,searchThings:R,handleClickOutside:N,dropdown:g,showFilters:z,showFiltersMethod:x}}}),vi={class:"search-filter-container"},mi={class:"input-group"},gi=["placeholder"],Ti={key:0,class:"filter-options-container"},yi={class:"filter-card"},Ei=["placeholder"],wi={class:"filter-card"},Ii=["placeholder"],_i={value:"",disabled:"",selected:""},Si=["value"],Ci={class:"filter-card"},Ai=["placeholder"],Pi={value:"",disabled:"",selected:""},Ni=["value"],bi={value:"",disabled:"",selected:""},Mi=["value"],Oi={value:"",disabled:"",selected:""},Di=["value"];function Li(c,u,H,v,g,z){return A(),M("div",vi,[d("div",mi,[le(d("input",{"onUpdate:modelValue":u[0]||(u[0]=l=>c.filters.searchTerm=l),type:"text",placeholder:c.$t("Search..."),class:"inputLogin",onClick:u[1]||(u[1]=(...l)=>c.showFiltersMethod&&c.showFiltersMethod(...l)),onKeypress:u[2]||(u[2]=oi((...l)=>c.searchThings&&c.searchThings(...l),["enter"]))},null,40,gi),[[He,c.filters.searchTerm]]),d("button",{onClick:u[3]||(u[3]=(...l)=>c.searchThings&&c.searchThings(...l)),class:"submit-button"},[d("span",null,D(c.$t("Search")),1)])]),c.showFilters?(A(),M("div",Ti,[d("div",yi,[d("span",null,D(c.$t("$")),1),le(d("input",{type:"text",inputmode:"decimal",pattern:"[0-9]*","onUpdate:modelValue":u[4]||(u[4]=l=>c.filters.price=l),placeholder:c.$t("Max Price"),class:"filter-input",onInput:u[5]||(u[5]=l=>c.filters.price=c.filters.price.replace(/[^0-9]/g,""))},null,40,Ei),[[He,c.filters.price]])]),d("div",wi,[le(d("input",{type:"text",inputmode:"decimal",pattern:"[0-9]*","onUpdate:modelValue":u[6]||(u[6]=l=>c.filters.rang=l),placeholder:c.$t("Range"),class:"filter-input",onInput:u[7]||(u[7]=l=>c.filters.rang=c.filters.rang.replace(/[^0-9]/g,""))},null,40,Ii),[[He,c.filters.rang]]),d("span",null,D(c.$t("Km")),1)]),le(d("select",{"onUpdate:modelValue":u[8]||(u[8]=l=>c.filters.condition=l),class:"filter-card select-filter"},[d("option",_i,D(c.$t("Condition")),1),(A(!0),M(pe,null,Ce(c.conditions,l=>(A(),M("option",{key:l.id,value:l.id},D(l.name),9,Si))),128))],512),[[Fe,c.filters.condition]]),d("div",Ci,[le(d("input",{type:"text",inputmode:"decimal",pattern:"[0-9]*","onUpdate:modelValue":u[9]||(u[9]=l=>c.filters.weight=l),placeholder:c.$t("Max Weight"),class:"filter-input",onInput:u[10]||(u[10]=l=>c.filters.weight=c.filters.weight.replace(/[^0-9]/g,""))},null,40,Ai),[[He,c.filters.weight]]),d("span",null,D(c.$t("Kg")),1)]),le(d("select",{"onUpdate:modelValue":u[11]||(u[11]=l=>c.filters.category=l),class:"filter-card select-filter"},[d("option",Pi,D(c.$t("Category")),1),(A(!0),M(pe,null,Ce(c.categories,l=>(A(),M("option",{key:l.id,value:l.id},D(l.name),9,Ni))),128))],512),[[Fe,c.filters.category]]),le(d("select",{"onUpdate:modelValue":u[12]||(u[12]=l=>c.filters.material=l),class:"filter-card select-filter"},[d("option",bi,D(c.$t("Material")),1),(A(!0),M(pe,null,Ce(c.materials,l=>(A(),M("option",{key:l.id,value:l.id},D(l.name),9,Mi))),128))],512),[[Fe,c.filters.material]]),le(d("select",{"onUpdate:modelValue":u[13]||(u[13]=l=>c.filters.color=l),class:"filter-card select-filter"},[d("option",Oi,D(c.$t("Color")),1),(A(!0),M(pe,null,Ce(c.colors,l=>(A(),M("option",{key:l.id,value:l.id},D(l.name),9,Di))),128))],512),[[Fe,c.filters.color]])])):Ae("",!0)])}const Ri=It(pi,[["render",Li],["__scopeId","data-v-ef820ba7"]]);var Ct={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(c){(function(u,H,v,g){var z=["","webkit","Moz","MS","ms","o"],l=H.createElement("div"),w="function",T=Math.round,E=Math.abs,L=Date.now;function $(e,t,i){return setTimeout(Z(e,i),t)}function I(e,t,i){return Array.isArray(e)?(R(e,i[t],i),!0):!1}function R(e,t,i){var s;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==g)for(s=0;s<e.length;)t.call(i,e[s],s,e),s++;else for(s in e)e.hasOwnProperty(s)&&t.call(i,e[s],s,e)}function x(e,t,i){var s="DEPRECATED METHOD: "+t+`
`+i+` AT 
`;return function(){var a=new Error("get-stack-trace"),o=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=u.console&&(u.console.warn||u.console.log);return f&&f.call(u.console,s,o),e.apply(this,arguments)}}var N;typeof Object.assign!="function"?N=function(t){if(t===g||t===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!==g&&a!==null)for(var o in a)a.hasOwnProperty(o)&&(i[o]=a[o])}return i}:N=Object.assign;var P=x(function(t,i,s){for(var a=Object.keys(i),o=0;o<a.length;)(!s||s&&t[a[o]]===g)&&(t[a[o]]=i[a[o]]),o++;return t},"extend","Use `assign`."),ce=x(function(t,i){return P(t,i,!0)},"merge","Use `assign`.");function _(e,t,i){var s=t.prototype,a;a=e.prototype=Object.create(s),a.constructor=e,a._super=s,i&&N(a,i)}function Z(e,t){return function(){return e.apply(t,arguments)}}function ee(e,t){return typeof e==w?e.apply(t&&t[0]||g,t):e}function p(e,t){return e===g?t:e}function S(e,t,i){R(ne(t),function(s){e.addEventListener(s,i,!1)})}function te(e,t,i){R(ne(t),function(s){e.removeEventListener(s,i,!1)})}function X(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function W(e,t){return e.indexOf(t)>-1}function ne(e){return e.trim().split(/\s+/g)}function ie(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var s=0;s<e.length;){if(i&&e[s][i]==t||!i&&e[s]===t)return s;s++}return-1}function ue(e){return Array.prototype.slice.call(e,0)}function n(e,t,i){for(var s=[],a=[],o=0;o<e.length;){var f=e[o][t];ie(a,f)<0&&s.push(e[o]),a[o]=f,o++}return s=s.sort(function(O,V){return O[t]>V[t]}),s}function r(e,t){for(var i,s,a=t[0].toUpperCase()+t.slice(1),o=0;o<z.length;){if(i=z[o],s=i?i+a:t,s in e)return s;o++}return g}var h=1;function m(){return h++}function U(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||u}var Y=/mobile|tablet|ip(ad|hone|od)|android/i,k="ontouchstart"in u,At=r(u,"PointerEvent")!==g,Pt=k&&Y.test(navigator.userAgent),ge="touch",Nt="pen",Ve="mouse",bt="kinect",Mt=25,F=1,he=2,C=4,q=8,Ne=1,Te=2,ye=4,Ee=8,we=16,K=Te|ye,de=Ee|we,Qe=K|de,et=["x","y"],be=["clientX","clientY"];function G(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(s){ee(e.options.enable,[e])&&i.handler(s)},this.init()}G.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(U(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&te(this.element,this.evEl,this.domHandler),this.evTarget&&te(this.target,this.evTarget,this.domHandler),this.evWin&&te(U(this.element),this.evWin,this.domHandler)}};function Ot(e){var t,i=e.options.inputClass;return i?t=i:At?t=qe:Pt?t=De:k?t=ze:t=Oe,new t(e,Dt)}function Dt(e,t,i){var s=i.pointers.length,a=i.changedPointers.length,o=t&F&&s-a===0,f=t&(C|q)&&s-a===0;i.isFirst=!!o,i.isFinal=!!f,o&&(e.session={}),i.eventType=t,Lt(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function Lt(e,t){var i=e.session,s=t.pointers,a=s.length;i.firstInput||(i.firstInput=tt(t)),a>1&&!i.firstMultiple?i.firstMultiple=tt(t):a===1&&(i.firstMultiple=!1);var o=i.firstInput,f=i.firstMultiple,b=f?f.center:o.center,O=t.center=it(s);t.timeStamp=L(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=$e(b,O),t.distance=Me(b,O),Rt(i,t),t.offsetDirection=at(t.deltaX,t.deltaY);var V=st(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=V.x,t.overallVelocityY=V.y,t.overallVelocity=E(V.x)>E(V.y)?V.x:V.y,t.scale=f?kt(f.pointers,s):1,t.rotation=f?Yt(f.pointers,s):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,Ut(i,t);var Q=e.element;X(t.srcEvent.target,Q)&&(Q=t.srcEvent.target),t.target=Q}function Rt(e,t){var i=t.center,s=e.offsetDelta||{},a=e.prevDelta||{},o=e.prevInput||{};(t.eventType===F||o.eventType===C)&&(a=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},s=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=a.x+(i.x-s.x),t.deltaY=a.y+(i.y-s.y)}function Ut(e,t){var i=e.lastInterval||t,s=t.timeStamp-i.timeStamp,a,o,f,b;if(t.eventType!=q&&(s>Mt||i.velocity===g)){var O=t.deltaX-i.deltaX,V=t.deltaY-i.deltaY,Q=st(s,O,V);o=Q.x,f=Q.y,a=E(Q.x)>E(Q.y)?Q.x:Q.y,b=at(O,V),e.lastInterval=t}else a=i.velocity,o=i.velocityX,f=i.velocityY,b=i.direction;t.velocity=a,t.velocityX=o,t.velocityY=f,t.direction=b}function tt(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:T(e.pointers[i].clientX),clientY:T(e.pointers[i].clientY)},i++;return{timeStamp:L(),pointers:t,center:it(t),deltaX:e.deltaX,deltaY:e.deltaY}}function it(e){var t=e.length;if(t===1)return{x:T(e[0].clientX),y:T(e[0].clientY)};for(var i=0,s=0,a=0;a<t;)i+=e[a].clientX,s+=e[a].clientY,a++;return{x:T(i/t),y:T(s/t)}}function st(e,t,i){return{x:t/e||0,y:i/e||0}}function at(e,t){return e===t?Ne:E(e)>=E(t)?e<0?Te:ye:t<0?Ee:we}function Me(e,t,i){i||(i=et);var s=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.sqrt(s*s+a*a)}function $e(e,t,i){i||(i=et);var s=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.atan2(a,s)*180/Math.PI}function Yt(e,t){return $e(t[1],t[0],be)+$e(e[1],e[0],be)}function kt(e,t){return Me(t[0],t[1],be)/Me(e[0],e[1],be)}var Ht={mousedown:F,mousemove:he,mouseup:C},Ft="mousedown",Vt="mousemove mouseup";function Oe(){this.evEl=Ft,this.evWin=Vt,this.pressed=!1,G.apply(this,arguments)}_(Oe,G,{handler:function(t){var i=Ht[t.type];i&F&&t.button===0&&(this.pressed=!0),i&he&&t.which!==1&&(i=C),this.pressed&&(i&C&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:Ve,srcEvent:t}))}});var $t={pointerdown:F,pointermove:he,pointerup:C,pointercancel:q,pointerout:q},qt={2:ge,3:Nt,4:Ve,5:bt},nt="pointerdown",rt="pointermove pointerup pointercancel";u.MSPointerEvent&&!u.PointerEvent&&(nt="MSPointerDown",rt="MSPointerMove MSPointerUp MSPointerCancel");function qe(){this.evEl=nt,this.evWin=rt,G.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}_(qe,G,{handler:function(t){var i=this.store,s=!1,a=t.type.toLowerCase().replace("ms",""),o=$t[a],f=qt[t.pointerType]||t.pointerType,b=f==ge,O=ie(i,t.pointerId,"pointerId");o&F&&(t.button===0||b)?O<0&&(i.push(t),O=i.length-1):o&(C|q)&&(s=!0),!(O<0)&&(i[O]=t,this.callback(this.manager,o,{pointers:i,changedPointers:[t],pointerType:f,srcEvent:t}),s&&i.splice(O,1))}});var zt={touchstart:F,touchmove:he,touchend:C,touchcancel:q},Xt="touchstart",Wt="touchstart touchmove touchend touchcancel";function ot(){this.evTarget=Xt,this.evWin=Wt,this.started=!1,G.apply(this,arguments)}_(ot,G,{handler:function(t){var i=zt[t.type];if(i===F&&(this.started=!0),!!this.started){var s=xt.call(this,t,i);i&(C|q)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:ge,srcEvent:t})}}});function xt(e,t){var i=ue(e.touches),s=ue(e.changedTouches);return t&(C|q)&&(i=n(i.concat(s),"identifier")),[i,s]}var Gt={touchstart:F,touchmove:he,touchend:C,touchcancel:q},Bt="touchstart touchmove touchend touchcancel";function De(){this.evTarget=Bt,this.targetIds={},G.apply(this,arguments)}_(De,G,{handler:function(t){var i=Gt[t.type],s=jt.call(this,t,i);s&&this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:ge,srcEvent:t})}});function jt(e,t){var i=ue(e.touches),s=this.targetIds;if(t&(F|he)&&i.length===1)return s[i[0].identifier]=!0,[i,i];var a,o,f=ue(e.changedTouches),b=[],O=this.target;if(o=i.filter(function(V){return X(V.target,O)}),t===F)for(a=0;a<o.length;)s[o[a].identifier]=!0,a++;for(a=0;a<f.length;)s[f[a].identifier]&&b.push(f[a]),t&(C|q)&&delete s[f[a].identifier],a++;if(b.length)return[n(o.concat(b),"identifier"),b]}var Zt=2500,lt=25;function ze(){G.apply(this,arguments);var e=Z(this.handler,this);this.touch=new De(this.manager,e),this.mouse=new Oe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}_(ze,G,{handler:function(t,i,s){var a=s.pointerType==ge,o=s.pointerType==Ve;if(!(o&&s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents)){if(a)Kt.call(this,i,s);else if(o&&Jt.call(this,s))return;this.callback(t,i,s)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Kt(e,t){e&F?(this.primaryTouch=t.changedPointers[0].identifier,ct.call(this,t)):e&(C|q)&&ct.call(this,t)}function ct(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var s=this.lastTouches,a=function(){var o=s.indexOf(i);o>-1&&s.splice(o,1)};setTimeout(a,Zt)}}function Jt(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var a=this.lastTouches[s],o=Math.abs(t-a.x),f=Math.abs(i-a.y);if(o<=lt&&f<=lt)return!0}return!1}var ut=r(l.style,"touchAction"),ht=ut!==g,dt="compute",ft="auto",Xe="manipulation",fe="none",Ie="pan-x",_e="pan-y",Le=ei();function We(e,t){this.manager=e,this.set(t)}We.prototype={set:function(e){e==dt&&(e=this.compute()),ht&&this.manager.element.style&&Le[e]&&(this.manager.element.style[ut]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return R(this.manager.recognizers,function(t){ee(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Qt(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var s=this.actions,a=W(s,fe)&&!Le[fe],o=W(s,_e)&&!Le[_e],f=W(s,Ie)&&!Le[Ie];if(a){var b=e.pointers.length===1,O=e.distance<2,V=e.deltaTime<250;if(b&&O&&V)return}if(!(f&&o)&&(a||o&&i&K||f&&i&de))return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function Qt(e){if(W(e,fe))return fe;var t=W(e,Ie),i=W(e,_e);return t&&i?fe:t||i?t?Ie:_e:W(e,Xe)?Xe:ft}function ei(){if(!ht)return!1;var e={},t=u.CSS&&u.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=t?u.CSS.supports("touch-action",i):!0}),e}var Re=1,B=2,ve=4,re=8,se=re,Se=16,J=32;function ae(e){this.options=N({},this.defaults,e||{}),this.id=m(),this.manager=null,this.options.enable=p(this.options.enable,!0),this.state=Re,this.simultaneous={},this.requireFail=[]}ae.prototype={defaults:{},set:function(e){return N(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(I(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=Ue(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return I(e,"dropRecognizeWith",this)?this:(e=Ue(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(I(e,"requireFailure",this))return this;var t=this.requireFail;return e=Ue(e,this),ie(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(I(e,"dropRequireFailure",this))return this;e=Ue(e,this);var t=ie(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function s(a){t.manager.emit(a,e)}i<re&&s(t.options.event+pt(i)),s(t.options.event),e.additionalEvent&&s(e.additionalEvent),i>=re&&s(t.options.event+pt(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=J},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(J|Re)))return!1;e++}return!0},recognize:function(e){var t=N({},e);if(!ee(this.options.enable,[this,t])){this.reset(),this.state=J;return}this.state&(se|Se|J)&&(this.state=Re),this.state=this.process(t),this.state&(B|ve|re|Se)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}};function pt(e){return e&Se?"cancel":e&re?"end":e&ve?"move":e&B?"start":""}function vt(e){return e==we?"down":e==Ee?"up":e==Te?"left":e==ye?"right":""}function Ue(e,t){var i=t.manager;return i?i.get(e):e}function j(){ae.apply(this,arguments)}_(j,ae,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,s=t&(B|ve),a=this.attrTest(e);return s&&(i&q||!a)?t|Se:s||a?i&C?t|re:t&B?t|ve:B:J}});function Ye(){j.apply(this,arguments),this.pX=null,this.pY=null}_(Ye,j,{defaults:{event:"pan",threshold:10,pointers:1,direction:Qe},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push(_e),e&de&&t.push(Ie),t},directionTest:function(e){var t=this.options,i=!0,s=e.distance,a=e.direction,o=e.deltaX,f=e.deltaY;return a&t.direction||(t.direction&K?(a=o===0?Ne:o<0?Te:ye,i=o!=this.pX,s=Math.abs(e.deltaX)):(a=f===0?Ne:f<0?Ee:we,i=f!=this.pY,s=Math.abs(e.deltaY))),e.direction=a,i&&s>t.threshold&&a&t.direction},attrTest:function(e){return j.prototype.attrTest.call(this,e)&&(this.state&B||!(this.state&B)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=vt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}});function xe(){j.apply(this,arguments)}_(xe,j,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&B)},emit:function(e){if(e.scale!==1){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}});function Ge(){ae.apply(this,arguments),this._timer=null,this._input=null}_(Ge,ae,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ft]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,s=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!s||!i||e.eventType&(C|q)&&!a)this.reset();else if(e.eventType&F)this.reset(),this._timer=$(function(){this.state=se,this.tryEmit()},t.time,this);else if(e.eventType&C)return se;return J},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===se&&(e&&e.eventType&C?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=L(),this.manager.emit(this.options.event,this._input)))}});function Be(){j.apply(this,arguments)}_(Be,j,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[fe]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&B)}});function je(){j.apply(this,arguments)}_(je,j,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|de,pointers:1},getTouchAction:function(){return Ye.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,i;return t&(K|de)?i=e.overallVelocity:t&K?i=e.overallVelocityX:t&de&&(i=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&E(i)>this.options.velocity&&e.eventType&C},emit:function(e){var t=vt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}});function ke(){ae.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}_(ke,ae,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xe]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,s=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&F&&this.count===0)return this.failTimeout();if(s&&a&&i){if(e.eventType!=C)return this.failTimeout();var o=this.pTime?e.timeStamp-this.pTime<t.interval:!0,f=!this.pCenter||Me(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,!f||!o?this.count=1:this.count+=1,this._input=e;var b=this.count%t.taps;if(b===0)return this.hasRequireFailures()?(this._timer=$(function(){this.state=se,this.tryEmit()},t.interval,this),B):se}return J},failTimeout:function(){return this._timer=$(function(){this.state=J},this.options.interval,this),J},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==se&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function oe(e,t){return t=t||{},t.recognizers=p(t.recognizers,oe.defaults.preset),new Ze(e,t)}oe.VERSION="2.0.7",oe.defaults={domEvents:!1,touchAction:dt,enable:!0,inputTarget:null,inputClass:null,preset:[[Be,{enable:!1}],[xe,{enable:!1},["rotate"]],[je,{direction:K}],[Ye,{direction:K},["swipe"]],[ke],[ke,{event:"doubletap",taps:2},["tap"]],[Ge]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ti=1,mt=2;function Ze(e,t){this.options=N({},oe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=Ot(this),this.touchAction=new We(this,this.options.touchAction),gt(this,!0),R(this.options.recognizers,function(i){var s=this.add(new i[0](i[1]));i[2]&&s.recognizeWith(i[2]),i[3]&&s.requireFailure(i[3])},this)}Ze.prototype={set:function(e){return N(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?mt:ti},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,s=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&se)&&(a=t.curRecognizer=null);for(var o=0;o<s.length;)i=s[o],t.stopped!==mt&&(!a||i==a||i.canRecognizeWith(a))?i.recognize(e):i.reset(),!a&&i.state&(B|ve|re)&&(a=t.curRecognizer=i),o++}},get:function(e){if(e instanceof ae)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(I(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(I(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,i=ie(t,e);i!==-1&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==g&&t!==g){var i=this.handlers;return R(ne(e),function(s){i[s]=i[s]||[],i[s].push(t)}),this}},off:function(e,t){if(e!==g){var i=this.handlers;return R(ne(e),function(s){t?i[s]&&i[s].splice(ie(i[s],t),1):delete i[s]}),this}},emit:function(e,t){this.options.domEvents&&ii(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(!(!i||!i.length)){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](t),s++}},destroy:function(){this.element&&gt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function gt(e,t){var i=e.element;if(i.style){var s;R(e.options.cssProps,function(a,o){s=r(i.style,o),t?(e.oldCssProps[s]=i.style[s],i.style[s]=a):i.style[s]=e.oldCssProps[s]||""}),t||(e.oldCssProps={})}}function ii(e,t){var i=H.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}N(oe,{INPUT_START:F,INPUT_MOVE:he,INPUT_END:C,INPUT_CANCEL:q,STATE_POSSIBLE:Re,STATE_BEGAN:B,STATE_CHANGED:ve,STATE_ENDED:re,STATE_RECOGNIZED:se,STATE_CANCELLED:Se,STATE_FAILED:J,DIRECTION_NONE:Ne,DIRECTION_LEFT:Te,DIRECTION_RIGHT:ye,DIRECTION_UP:Ee,DIRECTION_DOWN:we,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:de,DIRECTION_ALL:Qe,Manager:Ze,Input:G,TouchAction:We,TouchInput:De,MouseInput:Oe,PointerEventInput:qe,TouchMouseInput:ze,SingleTouchInput:ot,Recognizer:ae,AttrRecognizer:j,Tap:ke,Pan:Ye,Swipe:je,Pinch:xe,Rotate:Be,Press:Ge,on:S,off:te,each:R,merge:ce,extend:P,assign:N,inherit:_,bindFn:Z,prefixed:r});var si=typeof u<"u"?u:typeof self<"u"?self:{};si.Hammer=oe,c.exports?c.exports=oe:u[v]=oe})(window,document,"Hammer")})(Ct);var Ui=Ct.exports;const Yi=li(Ui),ki="/assets/fallback_swipe-6zZm0tV6.jpg",Hi={class:"tinder--cards"},Fi=["src"],Vi={class:"card-details"},$i={class:"title-card"},qi={class:"badges"},zi={class:"badge badge-price"},Xi={class:"badge badge-condition"},Wi={class:"description-card"},xi={class:"ad-content"},Gi=["id"],Bi={key:0,class:"ad-placeholder"},ji={__name:"swipeCard",props:{things:{type:Array,required:!0},adConfig:{type:Object,default:()=>({frequency:5,enabled:!0,adClient:"ca-pub-2219376995096244",adSlot:"7745126010",testMode:!0})}},emits:["swipeRight","swipeLeft","allSwiped","adViewed"],setup(c,{emit:u}){function H(n){n.target.src=ki}const v=c,g=u,z=y(null),l=y([]),w=y([]),T=y(0),E=y(null),L=y(!1),$=y(0),I=y(!1),R=y({}),x=y(new Set),N=()=>new Promise((n,r)=>{if(window.adsbygoogle){I.value=!0,n();return}const h=document.createElement("script");h.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${v.adConfig.adClient}`,h.crossOrigin="anonymous",h.async=!0,h.onload=()=>{I.value=!0,window.adsbygoogle=window.adsbygoogle||[],n()},h.onerror=()=>{console.error("Failed to load AdSense script"),r(new Error("AdSense script failed to load"))},document.head.appendChild(h)}),P=n=>{const r=document.createElement("ins");return r.className="adsbygoogle",r.style.cssText="display:block; width: 100%; height: 100%; min-height: 250px;",r.setAttribute("data-ad-client",v.adConfig.adClient),r.setAttribute("data-ad-slot",v.adConfig.adSlot),r.setAttribute("data-ad-format","auto"),r.setAttribute("data-full-width-responsive","true"),v.adConfig.testMode&&r.setAttribute("data-ad-test","on"),r},ce=()=>{const n=`ad_${Date.now()}_${$.value}`;return $.value++,{id:n,isAd:!0,swiped:!1,adInitialized:!1}},_=n=>{if(!v.adConfig.enabled)return n;console.log(n,"ss");const r=[],h=v.adConfig.frequency;for(let m=0;m<n.length;m++)r.push(n[m]),console.log(r,"dd"),(m+1)%h===0&&m<n.length-1&&r.push(ce());return r},Z=async n=>{if(!I.value||x.value.has(n.id))return;const r=R.value[n.id];if(!r){console.warn(`Ad container not found for ${n.id}`);return}try{if(await new Promise(U=>setTimeout(U,100)),r.offsetWidth===0||r.offsetHeight===0){console.warn(`Ad container has no dimensions for ${n.id}`);return}r.innerHTML="";const h=P(n.id);r.appendChild(h),(window.adsbygoogle=window.adsbygoogle||[]).push({}),x.value.add(n.id);const m=l.value.findIndex(U=>U.id===n.id);m!==-1&&(l.value[m].adInitialized=!0),console.log(`Ad initialized successfully: ${n.id}`)}catch(h){console.error(`Failed to initialize ad ${n.id}:`,h)}},ee=async()=>{if(!I.value)return;const n=w.value.filter(r=>r.isAd&&!r.adInitialized);for(const r of n)await Z(r)},p=St(()=>n=>{if(n===0)return{transform:E.value?`translateX(${E.value*100}%) rotate(${E.value*30}deg)`:"",opacity:E.value?0:1,transition:L.value?"transform 0.4s ease-out, opacity 0.4s ease-out":"none",zIndex:l.value.length-n};if(n>0&&n<3){const r=1-n*.05,h=-n*10;return{transform:`scale(${r}) translateY(${h}px)`,zIndex:l.value.length-n}}else return{display:"none",zIndex:l.value.length-n}}),S=n=>{if(n){n.classList.remove("moving"),n.style.transform="",n.style.opacity="",n.style.transition="transform 0.4s ease-out, opacity 0.4s ease-out";const r=n.querySelector(".swipe-left"),h=n.querySelector(".swipe-right");r&&(r.style.opacity=0),h&&(h.style.opacity=0),Pe.replace()}E.value=null,L.value=!1},te=(n,r)=>{if(L.value||w.value.length===0)return;r.classList.add("moving");const h=z.value,m=n.deltaX;h.classList.toggle("tinder_love",m>0),h.classList.toggle("tinder_nope",m<0),r.style.transform=`translate(${m}px, ${n.deltaY}px) rotate(${m*.03}deg)`;const U=Math.abs(m)/200,Y=r.querySelector(".swipe-left"),k=r.querySelector(".swipe-right");Y&&(Y.style.opacity=m<0?U:0),k&&(k.style.opacity=m>0?U:0),Pe.replace()},X=(n,r)=>{if(L.value||w.value.length===0)return;const h=n.deltaX,m=h>0;if(Math.abs(h)>80){E.value=m?1:-1,L.value=!0;const Y=w.value[0];setTimeout(()=>{Y&&(l.value=l.value.map(k=>k.id===Y.id?{...k,swiped:!0}:k),Y.isAd?g("adViewed",{ad:Y,direction:m?"right":"left",timestamp:Date.now()}):g(m?"swipeRight":"swipeLeft",Y),T.value++,W(),me(()=>S(r)))},300)}else{S(r);const Y=r.querySelector(".swipe-left"),k=r.querySelector(".swipe-right");Y&&(Y.style.opacity=0),k&&(k.style.opacity=0)}},W=()=>{w.value=l.value.slice(T.value,T.value+3).filter(n=>!n.swiped),(w.value.length===0&&l.value.some(n=>!n.swiped)||w.value.length===0&&l.value.every(n=>n.swiped))&&g("allSwiped"),w.value.some(n=>n.isAd)&&me(()=>{setTimeout(()=>ee(),200)})},ne=()=>{const n=document.querySelector(".tinder--card");if(n){const r=new Yi(n);r.on("pan",h=>te(h,n)),r.on("panend",h=>X(h,n))}},ie=n=>{if(L.value||w.value.length===0)return;const r=document.querySelector(".tinder--card"),h=w.value[0];if(!r||!h)return;const m=n?1:-1;E.value=m,L.value=!0;const U=r.querySelector(".swipe-left"),Y=r.querySelector(".swipe-right");U&&(U.style.opacity=m===-1?1:0),Y&&(Y.style.opacity=m===1?1:0),Pe.replace(),r.style.transition="transform 0.4s ease-out, opacity 0.4s ease-out",r.style.transform=`translateX(${m*100}%) rotate(${m*30}deg)`,r.style.opacity=0,setTimeout(()=>{l.value=l.value.map(k=>k.id===h.id?{...k,swiped:!0}:k),h.isAd?g("adViewed",{ad:h,direction:n?"right":"left",timestamp:Date.now()}):g(n?"swipeRight":"swipeLeft",h),T.value++,W(),me(()=>S(r))},400)},ue=n=>{n.key==="ArrowLeft"?(n.preventDefault(),ie(!1)):n.key==="ArrowRight"&&(n.preventDefault(),ie(!0))};return Ke(async()=>{try{await N();const n=_(v.things);l.value=n.map(r=>({...r,swiped:!1})),W(),me(ne),window.addEventListener("keydown",ue)}catch(n){console.error("Failed to initialize ads:",n),l.value=v.things.map(r=>({...r,swiped:!1})),W(),me(ne)}}),Je(()=>{window.removeEventListener("keydown",ue)}),Tt(w,()=>{me(ne)}),Tt(()=>v.things,async n=>{console.log(n,"aa");const r=_(n);console.log(r,"bb"),l.value=r.map(h=>({...h,swiped:!1})),T.value=0,$.value=0,x.value.clear(),W()}),(n,r)=>(A(),M("div",{ref_key:"tinderContainer",ref:z,class:"tinder-container"},[d("div",Hi,[(A(!0),M(pe,null,Ce(w.value,(h,m)=>(A(),M("div",{key:h.id,class:ci(["tinder--card",{"ad-card":h.isAd}]),style:ui(p.value(m))},[r[2]||(r[2]=d("div",{class:"swipe-overlay swipe-left"},[d("i",{"data-feather":"thumbs-down",class:"like"})],-1)),r[3]||(r[3]=d("div",{class:"swipe-overlay swipe-right"},[d("i",{"data-feather":"thumbs-up",class:"like"})],-1)),h.isAd?(A(),M(pe,{key:1},[r[1]||(r[1]=d("div",{class:"ad-indicator"},[d("span",{class:"ad-label"},"Sponsored")],-1)),d("div",xi,[d("div",{id:`adsense-${h.id}`,class:"adsense-container",ref_for:!0,ref:U=>{U&&(R.value[h.id]=U)}},[h.adInitialized?Ae("",!0):(A(),M("div",Bi,r[0]||(r[0]=[d("div",{class:"loading-spinner"},null,-1),d("span",null,"Loading ad...",-1)])))],8,Gi)])],64)):(A(),M(pe,{key:0},[d("img",{src:h.imagesUrl,alt:"Card image",class:"card-image",onError:H},null,40,Fi),d("div",Vi,[d("h3",$i,D(h.name),1),d("div",qi,[d("span",zi,"~$"+D(h.price),1),d("span",Xi,D(h.condition.name),1)]),d("p",Wi,D(h.description),1)])],64))],6))),128))])],512))}},Zi=It(ji,[["__scopeId","data-v-49b7e184"]]),Ki={style:{overflow:"hidden !important"}},Ji={key:1,class:"noSwaps"},ts={__name:"swaps",setup(c){const{t:u,locale:H}=hi(),v=_t();Je(()=>{v.commit("setLoading",!0),Z()});const g=p=>{console.log("Ad viewed:",p.direction,"at",new Date(p.timestamp))},z=y(""),l=y(""),w=y(!1),T=yt([]),E=new di;Ke(async()=>{v.commit("setLoading",!0),Pe.replace();const p=v.getters.getCachedSwipes;p&&p.length>0?(T.value=p,I.value=!0,v.commit("setLoading",!1)):await E.getFilteredThings().then(S=>{T.value=S,v.commit("setCachedSwipes",S),I.value=!0,S==null&&ee(),v.commit("setLoading",!1)}),v.commit("setLoading",!1)});const L=St(()=>T.value.length===0),$=yt({en:[{title:"ðŸŽ‰ Match Found!",message:"You've found a swap partner! Ready to exchange your items? Let's make this happen!"},{title:"ðŸ¤ Itâ€™s a Match!",message:"Great news! You both want to swap. Tap below to chat and finalize the exchange!"},{title:"ðŸ¥³ Swap Time!",message:"You matched! Letâ€™s get this swap rollingâ€”hit the button to connect!"},{title:"ðŸš€ Match Alert!",message:"Youâ€™ve got a match! Donâ€™t miss outâ€”click below to start your swap journey!"},{title:"ðŸŽŠ Itâ€™s a Match!",message:"You and your match are ready to swap! Message them to arrange the details!"},{title:"ðŸ’¥ Exciting Match!",message:"You found someone to swap with! Letâ€™s make this exchange happen!"},{title:"âœ¨ Match Made!",message:"Congratulations! Youâ€™ve found a great swap partner. Time to chat!"},{title:"ðŸŽˆ You Matched!",message:"Awesome! You matched with someone interested in swapping. Connect now!"},{title:"ðŸŒŸ Swap Partner Found!",message:"Youâ€™ve found a swap partner! Ready to chat and arrange the exchange?"},{title:"ðŸŽ¶ Itâ€™s a Perfect Match!",message:"What a coincidence! You both want to swap. Letâ€™s get started!"},{title:"ðŸ”” Match Notification!",message:"You matched with someone looking to swap. Donâ€™t waitâ€”message them now!"},{title:"ðŸ† Match Success!",message:"Great job! You have a match. Time to coordinate your swap!"},{title:"ðŸ’– Itâ€™s a Great Match!",message:"Youâ€™ve matched with a fellow swapper! Letâ€™s talk details!"},{title:"ðŸ’« You Matched Up!",message:"Fantastic! You found a swap partner. Click below to start chatting!"},{title:"ðŸ”¥ Hot Match!",message:"Youâ€™ve got a match! Time to connect and finalize your swap!"},{title:"ðŸ“¦ Swap Partner Alert!",message:"You matched with someone ready to swap. Reach out to them now!"},{title:"ðŸš¦ Match Confirmed!",message:"Youâ€™ve found a swap partner! Ready to exchange details?"},{title:"ðŸ’¡ Match Found!",message:"Great news! You have a match. Start chatting to arrange the swap!"},{title:"ðŸ€ Lucky Match!",message:"You matched with someone who wants to swap. Donâ€™t miss your chance!"},{title:"ðŸ”— Connection Established!",message:"Youâ€™ve got a match! Letâ€™s connect and make that swap happen!"},{title:"ðŸ¥‡ Itâ€™s a Winner!",message:"You found a swap partner! Ready to start your exchange journey?"}],es:[{title:"ðŸŽ‰ Â¡Intercambio Encontrado!",message:"Â¡Has encontrado un compaÃ±ero para intercambiar! Â¿Listo para hacer el cambio? Â¡HagÃ¡moslo realidad!"},{title:"ðŸ¤ Â¡Es un Match!",message:"Â¡Buenas noticias! Ambos quieren intercambiar. Â¡Toca abajo para chatear y cerrar el trato!"},{title:"ðŸ¥³ Â¡Hora de Intercambiar!",message:"Â¡Tienes un match! Vamos a empezar el intercambioâ€”Â¡haz clic para conectar!"},{title:"ðŸš€ Â¡Alerta de Match!",message:"Â¡Tienes un match! No lo dejes pasarâ€”haz clic abajo para comenzar tu intercambio."},{title:"ðŸŽŠ Â¡Es un Match!",message:"Â¡TÃº y tu compaÃ±ero estÃ¡n listos para intercambiar! EscrÃ­bele para coordinar los detalles."},{title:"ðŸ’¥ Â¡Match Emocionante!",message:"Â¡Encontraste a alguien para intercambiar! Â¡Hagamos este intercambio realidad!"},{title:"âœ¨ Â¡Match Perfecto!",message:"Â¡Felicidades! Has encontrado un gran compaÃ±ero de intercambio. Â¡Hora de chatear!"},{title:"ðŸŽˆ Â¡Tienes un Match!",message:"Â¡Genial! Hiciste match con alguien interesado en intercambiar. Â¡Conecta ahora!"},{title:"ðŸŒŸ Â¡CompaÃ±ero de Intercambio Encontrado!",message:"Â¡Has encontrado un compaÃ±ero para intercambiar! Â¿Listo para chatear y organizar el intercambio?"},{title:"ðŸŽ¶ Â¡Es un Match Perfecto!",message:"Â¡QuÃ© coincidencia! Ambos quieren intercambiar. Â¡Empecemos!"},{title:"ðŸ”” Â¡NotificaciÃ³n de Match!",message:"Has hecho match con alguien interesado en intercambiar. Â¡No esperesâ€”envÃ­ale un mensaje ahora!"},{title:"ðŸ† Â¡Match Exitoso!",message:"Â¡Buen trabajo! Tienes un match. Â¡Hora de coordinar el intercambio!"},{title:"ðŸ’– Â¡Gran Match!",message:"Â¡Has hecho match con otro intercambiador! Â¡Hablemos de los detalles!"},{title:"ðŸ’« Â¡Tienes un Match!",message:"Â¡FantÃ¡stico! Has encontrado un compaÃ±ero de intercambio. Â¡Haz clic abajo para empezar a chatear!"},{title:"ðŸ”¥ Â¡Match Caliente!",message:"Â¡Tienes un match! Â¡Es hora de conectar y cerrar el intercambio!"},{title:"ðŸ“¦ Â¡Alerta de Intercambio!",message:"Hiciste match con alguien listo para intercambiar. Â¡ContÃ¡ctalo ahora!"},{title:"ðŸš¦ Â¡Match Confirmado!",message:"Â¡Has encontrado un compaÃ±ero de intercambio! Â¿Listo para intercambiar detalles?"},{title:"ðŸ’¡ Â¡Match Encontrado!",message:"Â¡Buenas noticias! Tienes un match. Â¡Empieza a chatear para organizar el intercambio!"},{title:"ðŸ€ Â¡Match Afortunado!",message:"Hiciste match con alguien que quiere intercambiar. Â¡No pierdas tu oportunidad!"},{title:"ðŸ”— Â¡ConexiÃ³n Establecida!",message:"Â¡Tienes un match! Â¡Conectemos y hagamos que el intercambio suceda!"},{title:"ðŸ¥‡ Â¡Es un Ganador!",message:"Â¡Encontraste un compaÃ±ero de intercambio! Â¿Listo para comenzar tu experiencia?"}]}),I=y(!1),R=()=>{I.value=!1},x=y(!1),N=p=>{x.value=!0,I.value=!1,E.getFilteredThings({range:p.range,category_id:p.category,condition_id:p.condition,material_id:p.material,color_id:p.color,weight:[0,p.weight],price:[0,p.price],search:p.searchTerm}).then(S=>{T.value=S,v.commit("setCachedSwipes",T.value),I.value=!0,x.value=!1,S==null&&ee()})},P=y([]),ce=p=>{P.value.push({thing_id:p.id,user_id:p.user_id,liked:!0,matched:p.liked}),P.value.length==10&&Z(),p.liked&&ni.fire({title:$[H.value][Math.floor(Math.random()*$[H.value].length)].title,text:$[H.value][Math.floor(Math.random()*$[H.value].length)].message,icon:"success",iconHtml:'<i data-feather="shuffle" class="custom-icon"></i>',timer:2800,timerProgressBar:!0,showConfirmButton:!1,backdrop:!0,customClass:{popup:"custom-modal",icon:"custom-icon-wrapper"},willOpen:()=>{Pe.replace()}})},_=p=>{P.value.push({thing_id:p.id,user_id:p.user_id,liked:!1,matched:!1}),P.value.length==10&&Z()},Z=async()=>{if(P.value.length===0)return;const p=[...P.value],S=p.map(X=>X.thing_id),te=T.value.filter(X=>!S.includes(X.id));try{P.value=[],v.commit("setCachedSwipes",te);const X=await E.loadSwipes({swipes:p});X.success&&v.commit("addMatches",X.new_chats)}catch(X){console.error("Failed to send swipes:",X)}},ee=()=>{z.value="info",l.value=u("Try Searching for Something Else"),w.value=!0,setTimeout(()=>{w.value=!1},2800),T.value.length=0,v.commit("setCachedSwipes",[]),Z()};return(p,S)=>(A(),M("div",Ki,[x.value?(A(),Et(fi,{key:0})):Ae("",!0),wt(ai,{type:z.value,text:l.value,launch:w.value},null,8,["type","text","launch"]),wt(Ri,{onSearchThingsEmit:N,onShowFiltersEmit:S[0]||(S[0]=te=>R())}),I.value&&L.value?(A(),M("h2",Ji,D(p.$t("Looks like you've seen everything! Try searching for something new or expanding your range to discover more.")),1)):Ae("",!0),I.value?(A(),Et(Zi,{key:2,onAdViewed:g,things:T,onSwipeRight:ce,onSwipeLeft:_,onAllSwiped:ee},null,8,["things"])):Ae("",!0)]))}};export{ts as default};
