import{s as ai,S as ni}from"./successErrorCard-C6BcqcKh.js";import{_ as wt,H as ri,o as P,c as L,a as f,e as re,v as Ue,I as oi,t as b,q as Re,F as de,p as _e,i as Ye,k as _t,r as w,d as Be,G as je,J as li,x as It,K as he,L as gt,n as ci,M as ui,D as Ie,b as hi,E as Tt,h as yt,j as Et,S as di,l as fi}from"./index-BPfloJ1i.js";const pi=ri({name:"searchelement",emits:["searchThingsEmit","showFiltersEmit"],setup(u,{emit:h}){const R=_t(),v=w({searchTerm:"",price:"",condition:"",weight:"",category:"",material:"",color:"",range:""}),m=w(null),$=w(!1),o=w([]),_=w([]),T=w([]),y=w([]),D=w(!1),V=C=>v.value.category.includes(C),I=(C,oe)=>{if(oe)v.value.category.push(C);else{const S=v.value.category.indexOf(C);S>-1&&v.value.category.splice(S,1)}},Y=()=>{$.value=!1,h("searchThingsEmit",v.value),v.value={searchTerm:"",price:"",condition:"",weight:"",category:"",range:"",material:"",color:""}},Z=()=>{$.value=!0,h("showFiltersEmit")},M=C=>{m.value&&!m.value.contains(C.target)&&(D.value=!1)};return Be(async()=>{document.addEventListener("click",M),o.value=R.getters.getConditions,_.value=R.getters.getCategories,T.value=R.getters.getMaterials,y.value=R.getters.getColors}),je(()=>{document.removeEventListener("click",M)}),{filters:v,conditions:o,categories:_,materials:T,colors:y,showCategories:D,isChecked:V,updateCategories:I,searchThings:Y,handleClickOutside:M,dropdown:m,showFilters:$,showFiltersMethod:Z}}}),vi={class:"search-filter-container"},mi={class:"input-group"},gi=["placeholder"],Ti={key:0,class:"filter-options-container"},yi={class:"filter-card"},Ei=["placeholder"],wi={class:"filter-card"},_i=["placeholder"],Ii={value:"",disabled:"",selected:""},Ci=["value"],Si={class:"filter-card"},Ai=["placeholder"],Pi={value:"",disabled:"",selected:""},Mi=["value"],Ni={value:"",disabled:"",selected:""},Oi=["value"],bi={value:"",disabled:"",selected:""},Li=["value"];function Di(u,h,R,v,m,$){return P(),L("div",vi,[f("div",mi,[re(f("input",{"onUpdate:modelValue":h[0]||(h[0]=o=>u.filters.searchTerm=o),type:"text",placeholder:u.$t("Search..."),class:"inputLogin",onClick:h[1]||(h[1]=(...o)=>u.showFiltersMethod&&u.showFiltersMethod(...o)),onKeypress:h[2]||(h[2]=oi((...o)=>u.searchThings&&u.searchThings(...o),["enter"]))},null,40,gi),[[Ue,u.filters.searchTerm]]),f("button",{onClick:h[3]||(h[3]=(...o)=>u.searchThings&&u.searchThings(...o)),class:"submit-button"},[f("span",null,b(u.$t("Search")),1)])]),u.showFilters?(P(),L("div",Ti,[f("div",yi,[f("span",null,b(u.$t("$")),1),re(f("input",{type:"text",inputmode:"decimal",pattern:"[0-9]*","onUpdate:modelValue":h[4]||(h[4]=o=>u.filters.price=o),placeholder:u.$t("Max Price"),class:"filter-input",onInput:h[5]||(h[5]=o=>u.filters.price=u.filters.price.replace(/[^0-9]/g,""))},null,40,Ei),[[Ue,u.filters.price]])]),f("div",wi,[re(f("input",{type:"number","onUpdate:modelValue":h[6]||(h[6]=o=>u.filters.range=o),placeholder:u.$t("Range"),class:"filter-input"},null,8,_i),[[Ue,u.filters.range]]),f("span",null,b(u.$t("Km")),1)]),re(f("select",{"onUpdate:modelValue":h[7]||(h[7]=o=>u.filters.condition=o),class:"filter-card select-filter"},[f("option",Ii,b(u.$t("Condition")),1),(P(!0),L(de,null,_e(u.conditions,o=>(P(),L("option",{key:o.id,value:o.id},b(o.name),9,Ci))),128))],512),[[Re,u.filters.condition]]),f("div",Si,[re(f("input",{type:"number","onUpdate:modelValue":h[8]||(h[8]=o=>u.filters.weight=o),placeholder:u.$t("Max Weight"),class:"filter-input"},null,8,Ai),[[Ue,u.filters.weight]]),f("span",null,b(u.$t("Kg")),1)]),re(f("select",{"onUpdate:modelValue":h[9]||(h[9]=o=>u.filters.category=o),class:"filter-card select-filter"},[f("option",Pi,b(u.$t("Category")),1),(P(!0),L(de,null,_e(u.categories,o=>(P(),L("option",{key:o.id,value:o.id},b(o.name),9,Mi))),128))],512),[[Re,u.filters.category]]),re(f("select",{"onUpdate:modelValue":h[10]||(h[10]=o=>u.filters.material=o),class:"filter-card select-filter"},[f("option",Ni,b(u.$t("Material")),1),(P(!0),L(de,null,_e(u.materials,o=>(P(),L("option",{key:o.id,value:o.id},b(o.name),9,Oi))),128))],512),[[Re,u.filters.material]]),re(f("select",{"onUpdate:modelValue":h[11]||(h[11]=o=>u.filters.color=o),class:"filter-card select-filter"},[f("option",bi,b(u.$t("Color")),1),(P(!0),L(de,null,_e(u.colors,o=>(P(),L("option",{key:o.id,value:o.id},b(o.name),9,Li))),128))],512),[[Re,u.filters.color]])])):Ye("",!0)])}const Ui=wt(pi,[["render",Di],["__scopeId","data-v-2c988e95"]]);var Ct={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(u){(function(h,R,v,m){var $=["","webkit","Moz","MS","ms","o"],o=R.createElement("div"),_="function",T=Math.round,y=Math.abs,D=Date.now;function V(e,t,i){return setTimeout(z(e,i),t)}function I(e,t,i){return Array.isArray(e)?(Y(e,i[t],i),!0):!1}function Y(e,t,i){var s;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==m)for(s=0;s<e.length;)t.call(i,e[s],s,e),s++;else for(s in e)e.hasOwnProperty(s)&&t.call(i,e[s],s,e)}function Z(e,t,i){var s="DEPRECATED METHOD: "+t+`
`+i+` AT 
`;return function(){var a=new Error("get-stack-trace"),r=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",d=h.console&&(h.console.warn||h.console.log);return d&&d.call(h.console,s,r),e.apply(this,arguments)}}var M;typeof Object.assign!="function"?M=function(t){if(t===m||t===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!==m&&a!==null)for(var r in a)a.hasOwnProperty(r)&&(i[r]=a[r])}return i}:M=Object.assign;var C=Z(function(t,i,s){for(var a=Object.keys(i),r=0;r<a.length;)(!s||s&&t[a[r]]===m)&&(t[a[r]]=i[a[r]]),r++;return t},"extend","Use `assign`."),oe=Z(function(t,i){return C(t,i,!0)},"merge","Use `assign`.");function S(e,t,i){var s=t.prototype,a;a=e.prototype=Object.create(s),a.constructor=e,a._super=s,i&&M(a,i)}function z(e,t){return function(){return e.apply(t,arguments)}}function te(e,t){return typeof e==_?e.apply(t&&t[0]||m,t):e}function p(e,t){return e===m?t:e}function E(e,t,i){Y(n(t),function(s){e.addEventListener(s,i,!1)})}function G(e,t,i){Y(n(t),function(s){e.removeEventListener(s,i,!1)})}function q(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function K(e,t){return e.indexOf(t)>-1}function n(e){return e.trim().split(/\s+/g)}function l(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var s=0;s<e.length;){if(i&&e[s][i]==t||!i&&e[s]===t)return s;s++}return-1}function c(e){return Array.prototype.slice.call(e,0)}function g(e,t,i){for(var s=[],a=[],r=0;r<e.length;){var d=e[r][t];l(a,d)<0&&s.push(e[r]),a[r]=d,r++}return s=s.sort(function(O,F){return O[t]>F[t]}),s}function B(e,t){for(var i,s,a=t[0].toUpperCase()+t.slice(1),r=0;r<$.length;){if(i=$[r],s=i?i+a:t,s in e)return s;r++}return m}var U=1;function k(){return U++}function Ze(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||h}var St=/mobile|tablet|ip(ad|hone|od)|android/i,Ke="ontouchstart"in h,At=B(h,"PointerEvent")!==m,Pt=Ke&&St.test(navigator.userAgent),pe="touch",Mt="pen",ke="mouse",Nt="kinect",Ot=25,H=1,le=2,A=4,X=8,Ce=1,ve=2,me=4,ge=8,Te=16,J=ve|me,ce=ge|Te,Je=J|ce,Qe=["x","y"],Se=["clientX","clientY"];function W(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(s){te(e.options.enable,[e])&&i.handler(s)},this.init()}W.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(Ze(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&G(this.element,this.evEl,this.domHandler),this.evTarget&&G(this.target,this.evTarget,this.domHandler),this.evWin&&G(Ze(this.element),this.evWin,this.domHandler)}};function bt(e){var t,i=e.options.inputClass;return i?t=i:At?t=Fe:Pt?t=Me:Ke?t=Ve:t=Pe,new t(e,Lt)}function Lt(e,t,i){var s=i.pointers.length,a=i.changedPointers.length,r=t&H&&s-a===0,d=t&(A|X)&&s-a===0;i.isFirst=!!r,i.isFinal=!!d,r&&(e.session={}),i.eventType=t,Dt(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function Dt(e,t){var i=e.session,s=t.pointers,a=s.length;i.firstInput||(i.firstInput=et(t)),a>1&&!i.firstMultiple?i.firstMultiple=et(t):a===1&&(i.firstMultiple=!1);var r=i.firstInput,d=i.firstMultiple,N=d?d.center:r.center,O=t.center=tt(s);t.timeStamp=D(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=He(N,O),t.distance=Ae(N,O),Ut(i,t),t.offsetDirection=st(t.deltaX,t.deltaY);var F=it(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=F.x,t.overallVelocityY=F.y,t.overallVelocity=y(F.x)>y(F.y)?F.x:F.y,t.scale=d?kt(d.pointers,s):1,t.rotation=d?Yt(d.pointers,s):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,Rt(i,t);var ee=e.element;q(t.srcEvent.target,ee)&&(ee=t.srcEvent.target),t.target=ee}function Ut(e,t){var i=t.center,s=e.offsetDelta||{},a=e.prevDelta||{},r=e.prevInput||{};(t.eventType===H||r.eventType===A)&&(a=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},s=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=a.x+(i.x-s.x),t.deltaY=a.y+(i.y-s.y)}function Rt(e,t){var i=e.lastInterval||t,s=t.timeStamp-i.timeStamp,a,r,d,N;if(t.eventType!=X&&(s>Ot||i.velocity===m)){var O=t.deltaX-i.deltaX,F=t.deltaY-i.deltaY,ee=it(s,O,F);r=ee.x,d=ee.y,a=y(ee.x)>y(ee.y)?ee.x:ee.y,N=st(O,F),e.lastInterval=t}else a=i.velocity,r=i.velocityX,d=i.velocityY,N=i.direction;t.velocity=a,t.velocityX=r,t.velocityY=d,t.direction=N}function et(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:T(e.pointers[i].clientX),clientY:T(e.pointers[i].clientY)},i++;return{timeStamp:D(),pointers:t,center:tt(t),deltaX:e.deltaX,deltaY:e.deltaY}}function tt(e){var t=e.length;if(t===1)return{x:T(e[0].clientX),y:T(e[0].clientY)};for(var i=0,s=0,a=0;a<t;)i+=e[a].clientX,s+=e[a].clientY,a++;return{x:T(i/t),y:T(s/t)}}function it(e,t,i){return{x:t/e||0,y:i/e||0}}function st(e,t){return e===t?Ce:y(e)>=y(t)?e<0?ve:me:t<0?ge:Te}function Ae(e,t,i){i||(i=Qe);var s=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.sqrt(s*s+a*a)}function He(e,t,i){i||(i=Qe);var s=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.atan2(a,s)*180/Math.PI}function Yt(e,t){return He(t[1],t[0],Se)+He(e[1],e[0],Se)}function kt(e,t){return Ae(t[0],t[1],Se)/Ae(e[0],e[1],Se)}var Ht={mousedown:H,mousemove:le,mouseup:A},Ft="mousedown",Vt="mousemove mouseup";function Pe(){this.evEl=Ft,this.evWin=Vt,this.pressed=!1,W.apply(this,arguments)}S(Pe,W,{handler:function(t){var i=Ht[t.type];i&H&&t.button===0&&(this.pressed=!0),i&le&&t.which!==1&&(i=A),this.pressed&&(i&A&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:ke,srcEvent:t}))}});var qt={pointerdown:H,pointermove:le,pointerup:A,pointercancel:X,pointerout:X},Xt={2:pe,3:Mt,4:ke,5:Nt},at="pointerdown",nt="pointermove pointerup pointercancel";h.MSPointerEvent&&!h.PointerEvent&&(at="MSPointerDown",nt="MSPointerMove MSPointerUp MSPointerCancel");function Fe(){this.evEl=at,this.evWin=nt,W.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}S(Fe,W,{handler:function(t){var i=this.store,s=!1,a=t.type.toLowerCase().replace("ms",""),r=qt[a],d=Xt[t.pointerType]||t.pointerType,N=d==pe,O=l(i,t.pointerId,"pointerId");r&H&&(t.button===0||N)?O<0&&(i.push(t),O=i.length-1):r&(A|X)&&(s=!0),!(O<0)&&(i[O]=t,this.callback(this.manager,r,{pointers:i,changedPointers:[t],pointerType:d,srcEvent:t}),s&&i.splice(O,1))}});var $t={touchstart:H,touchmove:le,touchend:A,touchcancel:X},zt="touchstart",Wt="touchstart touchmove touchend touchcancel";function rt(){this.evTarget=zt,this.evWin=Wt,this.started=!1,W.apply(this,arguments)}S(rt,W,{handler:function(t){var i=$t[t.type];if(i===H&&(this.started=!0),!!this.started){var s=xt.call(this,t,i);i&(A|X)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:pe,srcEvent:t})}}});function xt(e,t){var i=c(e.touches),s=c(e.changedTouches);return t&(A|X)&&(i=g(i.concat(s),"identifier")),[i,s]}var Gt={touchstart:H,touchmove:le,touchend:A,touchcancel:X},Bt="touchstart touchmove touchend touchcancel";function Me(){this.evTarget=Bt,this.targetIds={},W.apply(this,arguments)}S(Me,W,{handler:function(t){var i=Gt[t.type],s=jt.call(this,t,i);s&&this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:pe,srcEvent:t})}});function jt(e,t){var i=c(e.touches),s=this.targetIds;if(t&(H|le)&&i.length===1)return s[i[0].identifier]=!0,[i,i];var a,r,d=c(e.changedTouches),N=[],O=this.target;if(r=i.filter(function(F){return q(F.target,O)}),t===H)for(a=0;a<r.length;)s[r[a].identifier]=!0,a++;for(a=0;a<d.length;)s[d[a].identifier]&&N.push(d[a]),t&(A|X)&&delete s[d[a].identifier],a++;if(N.length)return[g(r.concat(N),"identifier"),N]}var Zt=2500,ot=25;function Ve(){W.apply(this,arguments);var e=z(this.handler,this);this.touch=new Me(this.manager,e),this.mouse=new Pe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}S(Ve,W,{handler:function(t,i,s){var a=s.pointerType==pe,r=s.pointerType==ke;if(!(r&&s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents)){if(a)Kt.call(this,i,s);else if(r&&Jt.call(this,s))return;this.callback(t,i,s)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Kt(e,t){e&H?(this.primaryTouch=t.changedPointers[0].identifier,lt.call(this,t)):e&(A|X)&&lt.call(this,t)}function lt(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var s=this.lastTouches,a=function(){var r=s.indexOf(i);r>-1&&s.splice(r,1)};setTimeout(a,Zt)}}function Jt(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var a=this.lastTouches[s],r=Math.abs(t-a.x),d=Math.abs(i-a.y);if(r<=ot&&d<=ot)return!0}return!1}var ct=B(o.style,"touchAction"),ut=ct!==m,ht="compute",dt="auto",qe="manipulation",ue="none",ye="pan-x",Ee="pan-y",Ne=ei();function Xe(e,t){this.manager=e,this.set(t)}Xe.prototype={set:function(e){e==ht&&(e=this.compute()),ut&&this.manager.element.style&&Ne[e]&&(this.manager.element.style[ct]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return Y(this.manager.recognizers,function(t){te(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Qt(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var s=this.actions,a=K(s,ue)&&!Ne[ue],r=K(s,Ee)&&!Ne[Ee],d=K(s,ye)&&!Ne[ye];if(a){var N=e.pointers.length===1,O=e.distance<2,F=e.deltaTime<250;if(N&&O&&F)return}if(!(d&&r)&&(a||r&&i&J||d&&i&ce))return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function Qt(e){if(K(e,ue))return ue;var t=K(e,ye),i=K(e,Ee);return t&&i?ue:t||i?t?ye:Ee:K(e,qe)?qe:dt}function ei(){if(!ut)return!1;var e={},t=h.CSS&&h.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=t?h.CSS.supports("touch-action",i):!0}),e}var Oe=1,x=2,fe=4,ae=8,ie=ae,we=16,Q=32;function se(e){this.options=M({},this.defaults,e||{}),this.id=k(),this.manager=null,this.options.enable=p(this.options.enable,!0),this.state=Oe,this.simultaneous={},this.requireFail=[]}se.prototype={defaults:{},set:function(e){return M(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(I(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=be(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return I(e,"dropRecognizeWith",this)?this:(e=be(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(I(e,"requireFailure",this))return this;var t=this.requireFail;return e=be(e,this),l(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(I(e,"dropRequireFailure",this))return this;e=be(e,this);var t=l(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function s(a){t.manager.emit(a,e)}i<ae&&s(t.options.event+ft(i)),s(t.options.event),e.additionalEvent&&s(e.additionalEvent),i>=ae&&s(t.options.event+ft(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Q},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Q|Oe)))return!1;e++}return!0},recognize:function(e){var t=M({},e);if(!te(this.options.enable,[this,t])){this.reset(),this.state=Q;return}this.state&(ie|we|Q)&&(this.state=Oe),this.state=this.process(t),this.state&(x|fe|ae|we)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}};function ft(e){return e&we?"cancel":e&ae?"end":e&fe?"move":e&x?"start":""}function pt(e){return e==Te?"down":e==ge?"up":e==ve?"left":e==me?"right":""}function be(e,t){var i=t.manager;return i?i.get(e):e}function j(){se.apply(this,arguments)}S(j,se,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,s=t&(x|fe),a=this.attrTest(e);return s&&(i&X||!a)?t|we:s||a?i&A?t|ae:t&x?t|fe:x:Q}});function Le(){j.apply(this,arguments),this.pX=null,this.pY=null}S(Le,j,{defaults:{event:"pan",threshold:10,pointers:1,direction:Je},getTouchAction:function(){var e=this.options.direction,t=[];return e&J&&t.push(Ee),e&ce&&t.push(ye),t},directionTest:function(e){var t=this.options,i=!0,s=e.distance,a=e.direction,r=e.deltaX,d=e.deltaY;return a&t.direction||(t.direction&J?(a=r===0?Ce:r<0?ve:me,i=r!=this.pX,s=Math.abs(e.deltaX)):(a=d===0?Ce:d<0?ge:Te,i=d!=this.pY,s=Math.abs(e.deltaY))),e.direction=a,i&&s>t.threshold&&a&t.direction},attrTest:function(e){return j.prototype.attrTest.call(this,e)&&(this.state&x||!(this.state&x)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=pt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}});function $e(){j.apply(this,arguments)}S($e,j,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ue]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&x)},emit:function(e){if(e.scale!==1){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}});function ze(){se.apply(this,arguments),this._timer=null,this._input=null}S(ze,se,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[dt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,s=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!s||!i||e.eventType&(A|X)&&!a)this.reset();else if(e.eventType&H)this.reset(),this._timer=V(function(){this.state=ie,this.tryEmit()},t.time,this);else if(e.eventType&A)return ie;return Q},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ie&&(e&&e.eventType&A?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=D(),this.manager.emit(this.options.event,this._input)))}});function We(){j.apply(this,arguments)}S(We,j,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ue]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&x)}});function xe(){j.apply(this,arguments)}S(xe,j,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:J|ce,pointers:1},getTouchAction:function(){return Le.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,i;return t&(J|ce)?i=e.overallVelocity:t&J?i=e.overallVelocityX:t&ce&&(i=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&y(i)>this.options.velocity&&e.eventType&A},emit:function(e){var t=pt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}});function De(){se.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}S(De,se,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[qe]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,s=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&H&&this.count===0)return this.failTimeout();if(s&&a&&i){if(e.eventType!=A)return this.failTimeout();var r=this.pTime?e.timeStamp-this.pTime<t.interval:!0,d=!this.pCenter||Ae(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,!d||!r?this.count=1:this.count+=1,this._input=e;var N=this.count%t.taps;if(N===0)return this.hasRequireFailures()?(this._timer=V(function(){this.state=ie,this.tryEmit()},t.interval,this),x):ie}return Q},failTimeout:function(){return this._timer=V(function(){this.state=Q},this.options.interval,this),Q},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ie&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ne(e,t){return t=t||{},t.recognizers=p(t.recognizers,ne.defaults.preset),new Ge(e,t)}ne.VERSION="2.0.7",ne.defaults={domEvents:!1,touchAction:ht,enable:!0,inputTarget:null,inputClass:null,preset:[[We,{enable:!1}],[$e,{enable:!1},["rotate"]],[xe,{direction:J}],[Le,{direction:J},["swipe"]],[De],[De,{event:"doubletap",taps:2},["tap"]],[ze]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ti=1,vt=2;function Ge(e,t){this.options=M({},ne.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=bt(this),this.touchAction=new Xe(this,this.options.touchAction),mt(this,!0),Y(this.options.recognizers,function(i){var s=this.add(new i[0](i[1]));i[2]&&s.recognizeWith(i[2]),i[3]&&s.requireFailure(i[3])},this)}Ge.prototype={set:function(e){return M(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?vt:ti},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,s=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&ie)&&(a=t.curRecognizer=null);for(var r=0;r<s.length;)i=s[r],t.stopped!==vt&&(!a||i==a||i.canRecognizeWith(a))?i.recognize(e):i.reset(),!a&&i.state&(x|fe|ae)&&(a=t.curRecognizer=i),r++}},get:function(e){if(e instanceof se)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(I(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(I(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,i=l(t,e);i!==-1&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==m&&t!==m){var i=this.handlers;return Y(n(e),function(s){i[s]=i[s]||[],i[s].push(t)}),this}},off:function(e,t){if(e!==m){var i=this.handlers;return Y(n(e),function(s){t?i[s]&&i[s].splice(l(i[s],t),1):delete i[s]}),this}},emit:function(e,t){this.options.domEvents&&ii(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(!(!i||!i.length)){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](t),s++}},destroy:function(){this.element&&mt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function mt(e,t){var i=e.element;if(i.style){var s;Y(e.options.cssProps,function(a,r){s=B(i.style,r),t?(e.oldCssProps[s]=i.style[s],i.style[s]=a):i.style[s]=e.oldCssProps[s]||""}),t||(e.oldCssProps={})}}function ii(e,t){var i=R.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}M(ne,{INPUT_START:H,INPUT_MOVE:le,INPUT_END:A,INPUT_CANCEL:X,STATE_POSSIBLE:Oe,STATE_BEGAN:x,STATE_CHANGED:fe,STATE_ENDED:ae,STATE_RECOGNIZED:ie,STATE_CANCELLED:we,STATE_FAILED:Q,DIRECTION_NONE:Ce,DIRECTION_LEFT:ve,DIRECTION_RIGHT:me,DIRECTION_UP:ge,DIRECTION_DOWN:Te,DIRECTION_HORIZONTAL:J,DIRECTION_VERTICAL:ce,DIRECTION_ALL:Je,Manager:Ge,Input:W,TouchAction:Xe,TouchInput:Me,MouseInput:Pe,PointerEventInput:Fe,TouchMouseInput:Ve,SingleTouchInput:rt,Recognizer:se,AttrRecognizer:j,Tap:De,Pan:Le,Swipe:xe,Pinch:$e,Rotate:We,Press:ze,on:E,off:G,each:Y,merge:oe,extend:C,assign:M,inherit:S,bindFn:z,prefixed:B});var si=typeof h<"u"?h:typeof self<"u"?self:{};si.Hammer=ne,u.exports?u.exports=ne:h[v]=ne})(window,document,"Hammer")})(Ct);var Ri=Ct.exports;const Yi=li(Ri),ki="/assets/fallback_swipe-6zZm0tV6.jpg",Hi={class:"tinder--cards"},Fi=["src"],Vi={class:"card-details"},qi={class:"title-card"},Xi={class:"badges"},$i={class:"badge badge-price"},zi={class:"badge badge-condition"},Wi={class:"description-card"},xi={class:"ad-content"},Gi=["id","innerHTML"],Bi={__name:"swipeCard",props:{things:{type:Array,required:!0},adConfig:{type:Object,default:()=>({frequency:5,enabled:!0,adClient:"ca-pub-2219376995096244",adSlot:"6240019370",adLayoutKey:"+5y+s5-1j-50+eq"})}},emits:["swipeRight","swipeLeft","allSwiped","adViewed"],setup(u,{emit:h}){function R(n){n.target.src=ki}const v=u,m=h,$=w(null),o=w([]),_=w([]),T=w(0),y=w(null),D=w(!1),V=w(0),I=w(!1),Y=()=>new Promise((n,l)=>{if(window.adsbygoogle){I.value=!0,n();return}const c=document.createElement("script");c.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${v.adConfig.adClient}`,c.crossOrigin="anonymous",c.async=!0,c.onload=()=>{I.value=!0,n()},c.onerror=()=>{console.error("Failed to load AdSense script"),l()},document.head.appendChild(c)}),Z=n=>`
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="${v.adConfig.adClient}"
       data-ad-slot="${v.adConfig.adSlot}"
       data-ad-format="auto"
       data-full-width-responsive="true"
       data-ad-test="on"></ins>
`,M=()=>{const n=`ad_${Date.now()}_${V.value}`;return V.value++,{id:n,isAd:!0,adHtml:Z(),swiped:!1}},C=n=>{if(!v.adConfig.enabled)return n;const l=[],c=v.adConfig.frequency;for(let g=0;g<n.length;g++)l.push(n[g]),(g+1)%c===0&&g<n.length-1&&l.push(M());return l},oe=async()=>{if(!I.value)return;await he(),document.querySelectorAll(".adsense-container ins.adsbygoogle").forEach(l=>{if(!l.dataset.adsbygoogleStatus)try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(c){console.error("AdSense initialization error:",c)}})},S=It(()=>n=>{if(n===0)return{transform:y.value?`translateX(${y.value*100}%) rotate(${y.value*30}deg)`:"",opacity:y.value?0:1,transition:D.value?"transform 0.4s ease-out, opacity 0.4s ease-out":"none",zIndex:o.value.length-n};if(n>0&&n<3){const l=1-n*.05,c=-n*10;return{transform:`scale(${l}) translateY(${c}px)`,zIndex:o.value.length-n}}else return{display:"none",zIndex:o.value.length-n}}),z=n=>{if(n){n.classList.remove("moving"),n.style.transform="",n.style.opacity="",n.style.transition="transform 0.4s ease-out, opacity 0.4s ease-out";const l=n.querySelector(".swipe-left"),c=n.querySelector(".swipe-right");l&&(l.style.opacity=0),c&&(c.style.opacity=0),Ie.replace()}y.value=null,D.value=!1},te=(n,l)=>{if(D.value||_.value.length===0)return;l.classList.add("moving");const c=$.value,g=n.deltaX;c.classList.toggle("tinder_love",g>0),c.classList.toggle("tinder_nope",g<0),l.style.transform=`translate(${g}px, ${n.deltaY}px) rotate(${g*.03}deg)`;const B=Math.abs(g)/200,U=l.querySelector(".swipe-left"),k=l.querySelector(".swipe-right");U&&(U.style.opacity=g<0?B:0),k&&(k.style.opacity=g>0?B:0),Ie.replace()},p=(n,l)=>{if(D.value||_.value.length===0)return;const c=n.deltaX,g=c>0;if(Math.abs(c)>80){y.value=g?1:-1,D.value=!0;const U=_.value[0];setTimeout(()=>{U&&(o.value=o.value.map(k=>k.id===U.id?{...k,swiped:!0}:k),U.isAd?m("adViewed",{ad:U,direction:g?"right":"left",timestamp:Date.now()}):m(g?"swipeRight":"swipeLeft",U),T.value++,E(),he(()=>z(l)))},300)}else{z(l);const U=l.querySelector(".swipe-left"),k=l.querySelector(".swipe-right");U&&(U.style.opacity=0),k&&(k.style.opacity=0)}},E=()=>{_.value=o.value.slice(T.value,T.value+3).filter(n=>!n.swiped),(_.value.length===0&&o.value.some(n=>!n.swiped)||_.value.length===0&&o.value.every(n=>n.swiped))&&m("allSwiped"),_.value.some(n=>n.isAd)&&he(()=>{oe()})},G=()=>{const n=document.querySelector(".tinder--card");if(n){const l=new Yi(n);l.on("pan",c=>te(c,n)),l.on("panend",c=>p(c,n))}},q=n=>{if(D.value||_.value.length===0)return;const l=document.querySelector(".tinder--card"),c=_.value[0];if(!l||!c)return;const g=n?1:-1;y.value=g,D.value=!0;const B=l.querySelector(".swipe-left"),U=l.querySelector(".swipe-right");B&&(B.style.opacity=g===-1?1:0),U&&(U.style.opacity=g===1?1:0),Ie.replace(),l.style.transition="transform 0.4s ease-out, opacity 0.4s ease-out",l.style.transform=`translateX(${g*100}%) rotate(${g*30}deg)`,l.style.opacity=0,setTimeout(()=>{o.value=o.value.map(k=>k.id===c.id?{...k,swiped:!0}:k),c.isAd?m("adViewed",{ad:c,direction:n?"right":"left",timestamp:Date.now()}):m(n?"swipeRight":"swipeLeft",c),T.value++,E(),he(()=>z(l))},400)},K=n=>{n.key==="ArrowLeft"?(n.preventDefault(),q(!1)):n.key==="ArrowRight"&&(n.preventDefault(),q(!0))};return Be(async()=>{try{await Y();const n=C(v.things.value);o.value=n.map(l=>({...l,swiped:!1})),E(),he(G),window.addEventListener("keydown",K)}catch(n){console.error("Failed to initialize ads:",n),o.value=v.things.value.map(l=>({...l,swiped:!1})),E(),he(G)}}),je(()=>{window.removeEventListener("keydown",K)}),gt(_,()=>{he(G)}),gt(()=>v.things,async n=>{const l=C(n);o.value=l.map(c=>({...c,swiped:!1})),T.value=0,V.value=0,E()}),(n,l)=>(P(),L("div",{ref_key:"tinderContainer",ref:$,class:"tinder-container"},[f("div",Hi,[(P(!0),L(de,null,_e(_.value,(c,g)=>(P(),L("div",{key:c.id,class:ci(["tinder--card",{"ad-card":c.isAd}]),style:ui(S.value(g))},[l[1]||(l[1]=f("div",{class:"swipe-overlay swipe-left"},[f("i",{"data-feather":"thumbs-down",class:"like"})],-1)),l[2]||(l[2]=f("div",{class:"swipe-overlay swipe-right"},[f("i",{"data-feather":"thumbs-up",class:"like"})],-1)),c.isAd?(P(),L(de,{key:1},[l[0]||(l[0]=f("div",{class:"ad-indicator"},[f("span",{class:"ad-label"},"Sponsored")],-1)),f("div",xi,[f("div",{id:`adsense-${c.id}`,class:"adsense-container",innerHTML:c.adHtml},null,8,Gi)])],64)):(P(),L(de,{key:0},[f("img",{src:c.imagesUrl,alt:"Card image",class:"card-image",onError:R},null,40,Fi),f("div",Vi,[f("h3",qi,b(c.name),1),f("div",Xi,[f("span",$i,"~$"+b(c.price),1),f("span",zi,b(c.condition.name),1)]),f("p",Wi,b(c.description),1)])],64))],6))),128))])],512))}},ji=wt(Bi,[["__scopeId","data-v-b82bb6c7"]]),Zi={style:{overflow:"hidden !important"}},Ki={key:1,class:"noSwaps"},es={__name:"swaps",setup(u){const{t:h,locale:R}=hi(),v=_t();je(()=>{v.commit("setLoading",!0),z()});const m=p=>{console.log("Ad viewed:",p.direction,"at",new Date(p.timestamp))},$=w(""),o=w(""),_=w(!1),T=Tt([]),y=new di;Be(async()=>{v.commit("setLoading",!0),Ie.replace();const p=v.getters.getCachedSwipes;p&&p.length>0?(T.value=p,I.value=!0,v.commit("setLoading",!1)):await y.getFilteredThings().then(E=>{T.value=E,v.commit("setCachedSwipes",E),I.value=!0,E==null&&te(),v.commit("setLoading",!1)}),v.commit("setLoading",!1)});const D=It(()=>T.value.length===0),V=Tt({en:[{title:"ðŸŽ‰ Match Found!",message:"You've found a swap partner! Ready to exchange your items? Let's make this happen!"},{title:"ðŸ¤ Itâ€™s a Match!",message:"Great news! You both want to swap. Tap below to chat and finalize the exchange!"},{title:"ðŸ¥³ Swap Time!",message:"You matched! Letâ€™s get this swap rollingâ€”hit the button to connect!"},{title:"ðŸš€ Match Alert!",message:"Youâ€™ve got a match! Donâ€™t miss outâ€”click below to start your swap journey!"},{title:"ðŸŽŠ Itâ€™s a Match!",message:"You and your match are ready to swap! Message them to arrange the details!"},{title:"ðŸ’¥ Exciting Match!",message:"You found someone to swap with! Letâ€™s make this exchange happen!"},{title:"âœ¨ Match Made!",message:"Congratulations! Youâ€™ve found a great swap partner. Time to chat!"},{title:"ðŸŽˆ You Matched!",message:"Awesome! You matched with someone interested in swapping. Connect now!"},{title:"ðŸŒŸ Swap Partner Found!",message:"Youâ€™ve found a swap partner! Ready to chat and arrange the exchange?"},{title:"ðŸŽ¶ Itâ€™s a Perfect Match!",message:"What a coincidence! You both want to swap. Letâ€™s get started!"},{title:"ðŸ”” Match Notification!",message:"You matched with someone looking to swap. Donâ€™t waitâ€”message them now!"},{title:"ðŸ† Match Success!",message:"Great job! You have a match. Time to coordinate your swap!"},{title:"ðŸ’– Itâ€™s a Great Match!",message:"Youâ€™ve matched with a fellow swapper! Letâ€™s talk details!"},{title:"ðŸ’« You Matched Up!",message:"Fantastic! You found a swap partner. Click below to start chatting!"},{title:"ðŸ”¥ Hot Match!",message:"Youâ€™ve got a match! Time to connect and finalize your swap!"},{title:"ðŸ“¦ Swap Partner Alert!",message:"You matched with someone ready to swap. Reach out to them now!"},{title:"ðŸš¦ Match Confirmed!",message:"Youâ€™ve found a swap partner! Ready to exchange details?"},{title:"ðŸ’¡ Match Found!",message:"Great news! You have a match. Start chatting to arrange the swap!"},{title:"ðŸ€ Lucky Match!",message:"You matched with someone who wants to swap. Donâ€™t miss your chance!"},{title:"ðŸ”— Connection Established!",message:"Youâ€™ve got a match! Letâ€™s connect and make that swap happen!"},{title:"ðŸ¥‡ Itâ€™s a Winner!",message:"You found a swap partner! Ready to start your exchange journey?"}],es:[{title:"ðŸŽ‰ Â¡Intercambio Encontrado!",message:"Â¡Has encontrado un compaÃ±ero para intercambiar! Â¿Listo para hacer el cambio? Â¡HagÃ¡moslo realidad!"},{title:"ðŸ¤ Â¡Es un Match!",message:"Â¡Buenas noticias! Ambos quieren intercambiar. Â¡Toca abajo para chatear y cerrar el trato!"},{title:"ðŸ¥³ Â¡Hora de Intercambiar!",message:"Â¡Tienes un match! Vamos a empezar el intercambioâ€”Â¡haz clic para conectar!"},{title:"ðŸš€ Â¡Alerta de Match!",message:"Â¡Tienes un match! No lo dejes pasarâ€”haz clic abajo para comenzar tu intercambio."},{title:"ðŸŽŠ Â¡Es un Match!",message:"Â¡TÃº y tu compaÃ±ero estÃ¡n listos para intercambiar! EscrÃ­bele para coordinar los detalles."},{title:"ðŸ’¥ Â¡Match Emocionante!",message:"Â¡Encontraste a alguien para intercambiar! Â¡Hagamos este intercambio realidad!"},{title:"âœ¨ Â¡Match Perfecto!",message:"Â¡Felicidades! Has encontrado un gran compaÃ±ero de intercambio. Â¡Hora de chatear!"},{title:"ðŸŽˆ Â¡Tienes un Match!",message:"Â¡Genial! Hiciste match con alguien interesado en intercambiar. Â¡Conecta ahora!"},{title:"ðŸŒŸ Â¡CompaÃ±ero de Intercambio Encontrado!",message:"Â¡Has encontrado un compaÃ±ero para intercambiar! Â¿Listo para chatear y organizar el intercambio?"},{title:"ðŸŽ¶ Â¡Es un Match Perfecto!",message:"Â¡QuÃ© coincidencia! Ambos quieren intercambiar. Â¡Empecemos!"},{title:"ðŸ”” Â¡NotificaciÃ³n de Match!",message:"Has hecho match con alguien interesado en intercambiar. Â¡No esperesâ€”envÃ­ale un mensaje ahora!"},{title:"ðŸ† Â¡Match Exitoso!",message:"Â¡Buen trabajo! Tienes un match. Â¡Hora de coordinar el intercambio!"},{title:"ðŸ’– Â¡Gran Match!",message:"Â¡Has hecho match con otro intercambiador! Â¡Hablemos de los detalles!"},{title:"ðŸ’« Â¡Tienes un Match!",message:"Â¡FantÃ¡stico! Has encontrado un compaÃ±ero de intercambio. Â¡Haz clic abajo para empezar a chatear!"},{title:"ðŸ”¥ Â¡Match Caliente!",message:"Â¡Tienes un match! Â¡Es hora de conectar y cerrar el intercambio!"},{title:"ðŸ“¦ Â¡Alerta de Intercambio!",message:"Hiciste match con alguien listo para intercambiar. Â¡ContÃ¡ctalo ahora!"},{title:"ðŸš¦ Â¡Match Confirmado!",message:"Â¡Has encontrado un compaÃ±ero de intercambio! Â¿Listo para intercambiar detalles?"},{title:"ðŸ’¡ Â¡Match Encontrado!",message:"Â¡Buenas noticias! Tienes un match. Â¡Empieza a chatear para organizar el intercambio!"},{title:"ðŸ€ Â¡Match Afortunado!",message:"Hiciste match con alguien que quiere intercambiar. Â¡No pierdas tu oportunidad!"},{title:"ðŸ”— Â¡ConexiÃ³n Establecida!",message:"Â¡Tienes un match! Â¡Conectemos y hagamos que el intercambio suceda!"},{title:"ðŸ¥‡ Â¡Es un Ganador!",message:"Â¡Encontraste un compaÃ±ero de intercambio! Â¿Listo para comenzar tu experiencia?"}]}),I=w(!1),Y=()=>{I.value=!1},Z=w(!1),M=p=>{Z.value=!0,I.value=!1,y.getFilteredThings({range:p.range,category_id:p.category,condition_id:p.condition,material_id:p.material,color_id:p.color,weight:[0,p.weight],price:[0,p.price],search:p.searchTerm}).then(E=>{T.value=E,v.commit("setCachedSwipes",T.value),I.value=!0,Z.value=!1,E==null&&te()})},C=w([]),oe=p=>{C.value.push({thing_id:p.id,user_id:p.user_id,liked:!0,matched:p.liked}),C.value.length==10&&z(),p.liked&&ni.fire({title:V[R.value][Math.floor(Math.random()*V[R.value].length)].title,text:V[R.value][Math.floor(Math.random()*V[R.value].length)].message,icon:"success",iconHtml:'<i data-feather="shuffle" class="custom-icon"></i>',timer:2800,timerProgressBar:!0,showConfirmButton:!1,backdrop:!0,customClass:{popup:"custom-modal",icon:"custom-icon-wrapper"},willOpen:()=>{Ie.replace()}})},S=p=>{C.value.push({thing_id:p.id,user_id:p.user_id,liked:!1,matched:!1}),C.value.length==10&&z()},z=async()=>{if(C.value.length===0)return;const p=[...C.value],E=p.map(q=>q.thing_id),G=T.value.filter(q=>!E.includes(q.id));try{C.value=[],v.commit("setCachedSwipes",G);const q=await y.loadSwipes({swipes:p});q.success&&v.commit("addMatches",q.new_chats)}catch(q){console.error("Failed to send swipes:",q)}},te=()=>{$.value="info",o.value=h("Try Searching for Something Else"),_.value=!0,setTimeout(()=>{_.value=!1},2800),T.value.length=0,v.commit("setCachedSwipes",[]),z()};return(p,E)=>(P(),L("div",Zi,[Z.value?(P(),yt(fi,{key:0})):Ye("",!0),Et(ai,{type:$.value,text:o.value,launch:_.value},null,8,["type","text","launch"]),Et(Ui,{onSearchThingsEmit:M,onShowFiltersEmit:E[0]||(E[0]=G=>Y())}),I.value&&D.value?(P(),L("h2",Ki,b(p.$t("Looks like you've seen everything! Try searching for something new or expanding your range to discover more.")),1)):Ye("",!0),I.value?(P(),yt(ji,{key:2,onAdViewed:m,things:T,onSwipeRight:oe,onSwipeLeft:S,onAllSwiped:te},null,8,["things"])):Ye("",!0)]))}};export{es as default};
