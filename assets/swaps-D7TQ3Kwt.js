import{s as si,S as ai}from"./successErrorCard-D_meActD.js";import{_ as Et,E as ni,o as P,c as b,a as f,e as ne,v as Ue,G as ri,t as O,m as Re,F as he,k as Ie,l as xe,i as wt,r as I,d as Be,D as je,H as oi,q as It,I as ue,J as gt,n as li,K as ci,b as ui,C as Tt,h as yt,A as hi,S as di}from"./index-DoYgfSBw.js";import{f as Ce}from"./feather-otov0CnX.js";const fi=ni({name:"searchelement",emits:["searchThingsEmit","showFiltersEmit"],setup(l,{emit:u}){const R=wt(),m=I({searchTerm:"",price:"",condition:"",weight:"",category:"",material:"",color:"",range:""}),v=I(null),X=I(!1),o=I([]),C=I([]),T=I([]),w=I([]),L=I(!1),V=$=>m.value.category.includes($),S=($,re)=>{if(re)m.value.category.push($);else{const E=m.value.category.indexOf($);E>-1&&m.value.category.splice(E,1)}},Y=()=>{X.value=!1,u("searchThingsEmit",m.value),m.value={searchTerm:"",price:"",condition:"",weight:"",category:"",range:"",material:"",color:""}},ie=()=>{X.value=!0,u("showFiltersEmit")},y=$=>{v.value&&!v.value.contains($.target)&&(L.value=!1)};return Be(async()=>{document.addEventListener("click",y),o.value=R.getters.getConditions,C.value=R.getters.getCategories,T.value=R.getters.getMaterials,w.value=R.getters.getColors}),je(()=>{document.removeEventListener("click",y)}),{filters:m,conditions:o,categories:C,materials:T,colors:w,showCategories:L,isChecked:V,updateCategories:S,searchThings:Y,handleClickOutside:y,dropdown:v,showFilters:X,showFiltersMethod:ie}}}),pi={class:"search-filter-container"},mi={class:"input-group"},vi=["placeholder"],gi={key:0,class:"filter-options-container"},Ti={class:"filter-card"},yi=["placeholder"],Ei={class:"filter-card"},wi=["placeholder"],Ii={value:"",disabled:"",selected:""},Ci=["value"],Si={class:"filter-card"},_i=["placeholder"],Ai={value:"",disabled:"",selected:""},Pi=["value"],Ni={value:"",disabled:"",selected:""},Mi=["value"],Oi={value:"",disabled:"",selected:""},bi=["value"];function Li(l,u,R,m,v,X){return P(),b("div",pi,[f("div",mi,[ne(f("input",{"onUpdate:modelValue":u[0]||(u[0]=o=>l.filters.searchTerm=o),type:"text",placeholder:l.$t("Search..."),class:"inputLogin",onClick:u[1]||(u[1]=(...o)=>l.showFiltersMethod&&l.showFiltersMethod(...o)),onKeypress:u[2]||(u[2]=ri((...o)=>l.searchThings&&l.searchThings(...o),["enter"]))},null,40,vi),[[Ue,l.filters.searchTerm]]),f("button",{onClick:u[3]||(u[3]=(...o)=>l.searchThings&&l.searchThings(...o)),class:"submit-button"},[f("span",null,O(l.$t("Search")),1)])]),l.showFilters?(P(),b("div",gi,[f("div",Ti,[f("span",null,O(l.$t("$")),1),ne(f("input",{type:"text",inputmode:"decimal",pattern:"[0-9]*","onUpdate:modelValue":u[4]||(u[4]=o=>l.filters.price=o),placeholder:l.$t("Max Price"),class:"filter-input",onInput:u[5]||(u[5]=o=>l.filters.price=l.filters.price.replace(/[^0-9]/g,""))},null,40,yi),[[Ue,l.filters.price]])]),f("div",Ei,[ne(f("input",{type:"text",inputmode:"decimal",pattern:"[0-9]*","onUpdate:modelValue":u[6]||(u[6]=o=>l.filters.rang=o),placeholder:l.$t("Range"),class:"filter-input",onInput:u[7]||(u[7]=o=>l.filters.rang=l.filters.rang.replace(/[^0-9]/g,""))},null,40,wi),[[Ue,l.filters.rang]]),f("span",null,O(l.$t("Km")),1)]),ne(f("select",{"onUpdate:modelValue":u[8]||(u[8]=o=>l.filters.condition=o),class:"filter-card select-filter"},[f("option",Ii,O(l.$t("Condition")),1),(P(!0),b(he,null,Ie(l.conditions,o=>(P(),b("option",{key:o.id,value:o.id},O(l.$t(o.name)),9,Ci))),128))],512),[[Re,l.filters.condition]]),f("div",Si,[ne(f("input",{type:"text",inputmode:"decimal",pattern:"[0-9]*","onUpdate:modelValue":u[9]||(u[9]=o=>l.filters.weight=o),placeholder:l.$t("Max Weight"),class:"filter-input",onInput:u[10]||(u[10]=o=>l.filters.weight=l.filters.weight.replace(/[^0-9]/g,""))},null,40,_i),[[Ue,l.filters.weight]]),f("span",null,O(l.$t("Kg")),1)]),ne(f("select",{"onUpdate:modelValue":u[11]||(u[11]=o=>l.filters.category=o),class:"filter-card select-filter"},[f("option",Ai,O(l.$t("Category")),1),(P(!0),b(he,null,Ie(l.categories,o=>(P(),b("option",{key:o.id,value:o.id},O(l.$t(o.name)),9,Pi))),128))],512),[[Re,l.filters.category]]),ne(f("select",{"onUpdate:modelValue":u[12]||(u[12]=o=>l.filters.material=o),class:"filter-card select-filter"},[f("option",Ni,O(l.$t("Material")),1),(P(!0),b(he,null,Ie(l.materials,o=>(P(),b("option",{key:o.id,value:o.id},O(l.$t(o.name)),9,Mi))),128))],512),[[Re,l.filters.material]]),ne(f("select",{"onUpdate:modelValue":u[13]||(u[13]=o=>l.filters.color=o),class:"filter-card select-filter"},[f("option",Oi,O(l.$t("Color")),1),(P(!0),b(he,null,Ie(l.colors,o=>(P(),b("option",{key:o.id,value:o.id},O(l.$t(o.name)),9,bi))),128))],512),[[Re,l.filters.color]])])):xe("",!0)])}const Di=Et(fi,[["render",Li],["__scopeId","data-v-db475e5f"]]);var Ct={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(l){(function(u,R,m,v){var X=["","webkit","Moz","MS","ms","o"],o=R.createElement("div"),C="function",T=Math.round,w=Math.abs,L=Date.now;function V(e,t,i){return setTimeout(x(e,i),t)}function S(e,t,i){return Array.isArray(e)?(Y(e,i[t],i),!0):!1}function Y(e,t,i){var s;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==v)for(s=0;s<e.length;)t.call(i,e[s],s,e),s++;else for(s in e)e.hasOwnProperty(s)&&t.call(i,e[s],s,e)}function ie(e,t,i){var s="DEPRECATED METHOD: "+t+`
`+i+` AT 
`;return function(){var a=new Error("get-stack-trace"),r=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",d=u.console&&(u.console.warn||u.console.log);return d&&d.call(u.console,s,r),e.apply(this,arguments)}}var y;typeof Object.assign!="function"?y=function(t){if(t===v||t===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!==v&&a!==null)for(var r in a)a.hasOwnProperty(r)&&(i[r]=a[r])}return i}:y=Object.assign;var $=ie(function(t,i,s){for(var a=Object.keys(i),r=0;r<a.length;)(!s||s&&t[a[r]]===v)&&(t[a[r]]=i[a[r]]),r++;return t},"extend","Use `assign`."),re=ie(function(t,i){return $(t,i,!0)},"merge","Use `assign`.");function E(e,t,i){var s=t.prototype,a;a=e.prototype=Object.create(s),a.constructor=e,a._super=s,i&&y(a,i)}function x(e,t){return function(){return e.apply(t,arguments)}}function p(e,t){return typeof e==C?e.apply(t&&t[0]||v,t):e}function D(e,t){return e===v?t:e}function z(e,t,i){Y(n(t),function(s){e.addEventListener(s,i,!1)})}function N(e,t,i){Y(n(t),function(s){e.removeEventListener(s,i,!1)})}function fe(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function Z(e,t){return e.indexOf(t)>-1}function n(e){return e.trim().split(/\s+/g)}function c(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var s=0;s<e.length;){if(i&&e[s][i]==t||!i&&e[s]===t)return s;s++}return-1}function h(e){return Array.prototype.slice.call(e,0)}function g(e,t,i){for(var s=[],a=[],r=0;r<e.length;){var d=e[r][t];c(a,d)<0&&s.push(e[r]),a[r]=d,r++}return s=s.sort(function(M,F){return M[t]>F[t]}),s}function B(e,t){for(var i,s,a=t[0].toUpperCase()+t.slice(1),r=0;r<X.length;){if(i=X[r],s=i?i+a:t,s in e)return s;r++}return v}var U=1;function k(){return U++}function Ze(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||u}var St=/mobile|tablet|ip(ad|hone|od)|android/i,Ke="ontouchstart"in u,_t=B(u,"PointerEvent")!==v,At=Ke&&St.test(navigator.userAgent),pe="touch",Pt="pen",Ye="mouse",Nt="kinect",Mt=25,H=1,oe=2,_=4,q=8,Se=1,me=2,ve=4,ge=8,Te=16,K=me|ve,le=ge|Te,Je=K|le,Qe=["x","y"],_e=["clientX","clientY"];function W(e,t){var i=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(s){p(e.options.enable,[e])&&i.handler(s)},this.init()}W.prototype={handler:function(){},init:function(){this.evEl&&z(this.element,this.evEl,this.domHandler),this.evTarget&&z(this.target,this.evTarget,this.domHandler),this.evWin&&z(Ze(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&N(this.element,this.evEl,this.domHandler),this.evTarget&&N(this.target,this.evTarget,this.domHandler),this.evWin&&N(Ze(this.element),this.evWin,this.domHandler)}};function Ot(e){var t,i=e.options.inputClass;return i?t=i:_t?t=He:At?t=Ne:Ke?t=Fe:t=Pe,new t(e,bt)}function bt(e,t,i){var s=i.pointers.length,a=i.changedPointers.length,r=t&H&&s-a===0,d=t&(_|q)&&s-a===0;i.isFirst=!!r,i.isFinal=!!d,r&&(e.session={}),i.eventType=t,Lt(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function Lt(e,t){var i=e.session,s=t.pointers,a=s.length;i.firstInput||(i.firstInput=et(t)),a>1&&!i.firstMultiple?i.firstMultiple=et(t):a===1&&(i.firstMultiple=!1);var r=i.firstInput,d=i.firstMultiple,A=d?d.center:r.center,M=t.center=tt(s);t.timeStamp=L(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=ke(A,M),t.distance=Ae(A,M),Dt(i,t),t.offsetDirection=st(t.deltaX,t.deltaY);var F=it(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=F.x,t.overallVelocityY=F.y,t.overallVelocity=w(F.x)>w(F.y)?F.x:F.y,t.scale=d?Yt(d.pointers,s):1,t.rotation=d?Rt(d.pointers,s):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,Ut(i,t);var Q=e.element;fe(t.srcEvent.target,Q)&&(Q=t.srcEvent.target),t.target=Q}function Dt(e,t){var i=t.center,s=e.offsetDelta||{},a=e.prevDelta||{},r=e.prevInput||{};(t.eventType===H||r.eventType===_)&&(a=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},s=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=a.x+(i.x-s.x),t.deltaY=a.y+(i.y-s.y)}function Ut(e,t){var i=e.lastInterval||t,s=t.timeStamp-i.timeStamp,a,r,d,A;if(t.eventType!=q&&(s>Mt||i.velocity===v)){var M=t.deltaX-i.deltaX,F=t.deltaY-i.deltaY,Q=it(s,M,F);r=Q.x,d=Q.y,a=w(Q.x)>w(Q.y)?Q.x:Q.y,A=st(M,F),e.lastInterval=t}else a=i.velocity,r=i.velocityX,d=i.velocityY,A=i.direction;t.velocity=a,t.velocityX=r,t.velocityY=d,t.direction=A}function et(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:T(e.pointers[i].clientX),clientY:T(e.pointers[i].clientY)},i++;return{timeStamp:L(),pointers:t,center:tt(t),deltaX:e.deltaX,deltaY:e.deltaY}}function tt(e){var t=e.length;if(t===1)return{x:T(e[0].clientX),y:T(e[0].clientY)};for(var i=0,s=0,a=0;a<t;)i+=e[a].clientX,s+=e[a].clientY,a++;return{x:T(i/t),y:T(s/t)}}function it(e,t,i){return{x:t/e||0,y:i/e||0}}function st(e,t){return e===t?Se:w(e)>=w(t)?e<0?me:ve:t<0?ge:Te}function Ae(e,t,i){i||(i=Qe);var s=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.sqrt(s*s+a*a)}function ke(e,t,i){i||(i=Qe);var s=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.atan2(a,s)*180/Math.PI}function Rt(e,t){return ke(t[1],t[0],_e)+ke(e[1],e[0],_e)}function Yt(e,t){return Ae(t[0],t[1],_e)/Ae(e[0],e[1],_e)}var kt={mousedown:H,mousemove:oe,mouseup:_},Ht="mousedown",Ft="mousemove mouseup";function Pe(){this.evEl=Ht,this.evWin=Ft,this.pressed=!1,W.apply(this,arguments)}E(Pe,W,{handler:function(t){var i=kt[t.type];i&H&&t.button===0&&(this.pressed=!0),i&oe&&t.which!==1&&(i=_),this.pressed&&(i&_&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:Ye,srcEvent:t}))}});var Vt={pointerdown:H,pointermove:oe,pointerup:_,pointercancel:q,pointerout:q},$t={2:pe,3:Pt,4:Ye,5:Nt},at="pointerdown",nt="pointermove pointerup pointercancel";u.MSPointerEvent&&!u.PointerEvent&&(at="MSPointerDown",nt="MSPointerMove MSPointerUp MSPointerCancel");function He(){this.evEl=at,this.evWin=nt,W.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}E(He,W,{handler:function(t){var i=this.store,s=!1,a=t.type.toLowerCase().replace("ms",""),r=Vt[a],d=$t[t.pointerType]||t.pointerType,A=d==pe,M=c(i,t.pointerId,"pointerId");r&H&&(t.button===0||A)?M<0&&(i.push(t),M=i.length-1):r&(_|q)&&(s=!0),!(M<0)&&(i[M]=t,this.callback(this.manager,r,{pointers:i,changedPointers:[t],pointerType:d,srcEvent:t}),s&&i.splice(M,1))}});var qt={touchstart:H,touchmove:oe,touchend:_,touchcancel:q},Xt="touchstart",zt="touchstart touchmove touchend touchcancel";function rt(){this.evTarget=Xt,this.evWin=zt,this.started=!1,W.apply(this,arguments)}E(rt,W,{handler:function(t){var i=qt[t.type];if(i===H&&(this.started=!0),!!this.started){var s=Wt.call(this,t,i);i&(_|q)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:pe,srcEvent:t})}}});function Wt(e,t){var i=h(e.touches),s=h(e.changedTouches);return t&(_|q)&&(i=g(i.concat(s),"identifier")),[i,s]}var Gt={touchstart:H,touchmove:oe,touchend:_,touchcancel:q},xt="touchstart touchmove touchend touchcancel";function Ne(){this.evTarget=xt,this.targetIds={},W.apply(this,arguments)}E(Ne,W,{handler:function(t){var i=Gt[t.type],s=Bt.call(this,t,i);s&&this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:pe,srcEvent:t})}});function Bt(e,t){var i=h(e.touches),s=this.targetIds;if(t&(H|oe)&&i.length===1)return s[i[0].identifier]=!0,[i,i];var a,r,d=h(e.changedTouches),A=[],M=this.target;if(r=i.filter(function(F){return fe(F.target,M)}),t===H)for(a=0;a<r.length;)s[r[a].identifier]=!0,a++;for(a=0;a<d.length;)s[d[a].identifier]&&A.push(d[a]),t&(_|q)&&delete s[d[a].identifier],a++;if(A.length)return[g(r.concat(A),"identifier"),A]}var jt=2500,ot=25;function Fe(){W.apply(this,arguments);var e=x(this.handler,this);this.touch=new Ne(this.manager,e),this.mouse=new Pe(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}E(Fe,W,{handler:function(t,i,s){var a=s.pointerType==pe,r=s.pointerType==Ye;if(!(r&&s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents)){if(a)Zt.call(this,i,s);else if(r&&Kt.call(this,s))return;this.callback(t,i,s)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Zt(e,t){e&H?(this.primaryTouch=t.changedPointers[0].identifier,lt.call(this,t)):e&(_|q)&&lt.call(this,t)}function lt(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var s=this.lastTouches,a=function(){var r=s.indexOf(i);r>-1&&s.splice(r,1)};setTimeout(a,jt)}}function Kt(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var a=this.lastTouches[s],r=Math.abs(t-a.x),d=Math.abs(i-a.y);if(r<=ot&&d<=ot)return!0}return!1}var ct=B(o.style,"touchAction"),ut=ct!==v,ht="compute",dt="auto",Ve="manipulation",ce="none",ye="pan-x",Ee="pan-y",Me=Qt();function $e(e,t){this.manager=e,this.set(t)}$e.prototype={set:function(e){e==ht&&(e=this.compute()),ut&&this.manager.element.style&&Me[e]&&(this.manager.element.style[ct]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return Y(this.manager.recognizers,function(t){p(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),Jt(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(this.manager.session.prevented){t.preventDefault();return}var s=this.actions,a=Z(s,ce)&&!Me[ce],r=Z(s,Ee)&&!Me[Ee],d=Z(s,ye)&&!Me[ye];if(a){var A=e.pointers.length===1,M=e.distance<2,F=e.deltaTime<250;if(A&&M&&F)return}if(!(d&&r)&&(a||r&&i&K||d&&i&le))return this.preventSrc(t)},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function Jt(e){if(Z(e,ce))return ce;var t=Z(e,ye),i=Z(e,Ee);return t&&i?ce:t||i?t?ye:Ee:Z(e,Ve)?Ve:dt}function Qt(){if(!ut)return!1;var e={},t=u.CSS&&u.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){e[i]=t?u.CSS.supports("touch-action",i):!0}),e}var Oe=1,G=2,de=4,se=8,ee=se,we=16,J=32;function te(e){this.options=y({},this.defaults,e||{}),this.id=k(),this.manager=null,this.options.enable=D(this.options.enable,!0),this.state=Oe,this.simultaneous={},this.requireFail=[]}te.prototype={defaults:{},set:function(e){return y(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(S(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=be(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return S(e,"dropRecognizeWith",this)?this:(e=be(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(S(e,"requireFailure",this))return this;var t=this.requireFail;return e=be(e,this),c(t,e)===-1&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(S(e,"dropRequireFailure",this))return this;e=be(e,this);var t=c(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,i=this.state;function s(a){t.manager.emit(a,e)}i<se&&s(t.options.event+ft(i)),s(t.options.event),e.additionalEvent&&s(e.additionalEvent),i>=se&&s(t.options.event+ft(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=J},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(J|Oe)))return!1;e++}return!0},recognize:function(e){var t=y({},e);if(!p(this.options.enable,[this,t])){this.reset(),this.state=J;return}this.state&(ee|we|J)&&(this.state=Oe),this.state=this.process(t),this.state&(G|de|se|we)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}};function ft(e){return e&we?"cancel":e&se?"end":e&de?"move":e&G?"start":""}function pt(e){return e==Te?"down":e==ge?"up":e==me?"left":e==ve?"right":""}function be(e,t){var i=t.manager;return i?i.get(e):e}function j(){te.apply(this,arguments)}E(j,te,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return t===0||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,s=t&(G|de),a=this.attrTest(e);return s&&(i&q||!a)?t|we:s||a?i&_?t|se:t&G?t|de:G:J}});function Le(){j.apply(this,arguments),this.pX=null,this.pY=null}E(Le,j,{defaults:{event:"pan",threshold:10,pointers:1,direction:Je},getTouchAction:function(){var e=this.options.direction,t=[];return e&K&&t.push(Ee),e&le&&t.push(ye),t},directionTest:function(e){var t=this.options,i=!0,s=e.distance,a=e.direction,r=e.deltaX,d=e.deltaY;return a&t.direction||(t.direction&K?(a=r===0?Se:r<0?me:ve,i=r!=this.pX,s=Math.abs(e.deltaX)):(a=d===0?Se:d<0?ge:Te,i=d!=this.pY,s=Math.abs(e.deltaY))),e.direction=a,i&&s>t.threshold&&a&t.direction},attrTest:function(e){return j.prototype.attrTest.call(this,e)&&(this.state&G||!(this.state&G)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=pt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}});function qe(){j.apply(this,arguments)}E(qe,j,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&G)},emit:function(e){if(e.scale!==1){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}});function Xe(){te.apply(this,arguments),this._timer=null,this._input=null}E(Xe,te,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[dt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,s=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!s||!i||e.eventType&(_|q)&&!a)this.reset();else if(e.eventType&H)this.reset(),this._timer=V(function(){this.state=ee,this.tryEmit()},t.time,this);else if(e.eventType&_)return ee;return J},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===ee&&(e&&e.eventType&_?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=L(),this.manager.emit(this.options.event,this._input)))}});function ze(){j.apply(this,arguments)}E(ze,j,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&G)}});function We(){j.apply(this,arguments)}E(We,j,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|le,pointers:1},getTouchAction:function(){return Le.prototype.getTouchAction.call(this)},attrTest:function(e){var t=this.options.direction,i;return t&(K|le)?i=e.overallVelocity:t&K?i=e.overallVelocityX:t&le&&(i=e.overallVelocityY),this._super.attrTest.call(this,e)&&t&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&w(i)>this.options.velocity&&e.eventType&_},emit:function(e){var t=pt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}});function De(){te.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}E(De,te,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ve]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,s=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&H&&this.count===0)return this.failTimeout();if(s&&a&&i){if(e.eventType!=_)return this.failTimeout();var r=this.pTime?e.timeStamp-this.pTime<t.interval:!0,d=!this.pCenter||Ae(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,!d||!r?this.count=1:this.count+=1,this._input=e;var A=this.count%t.taps;if(A===0)return this.hasRequireFailures()?(this._timer=V(function(){this.state=ee,this.tryEmit()},t.interval,this),G):ee}return J},failTimeout:function(){return this._timer=V(function(){this.state=J},this.options.interval,this),J},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ee&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ae(e,t){return t=t||{},t.recognizers=D(t.recognizers,ae.defaults.preset),new Ge(e,t)}ae.VERSION="2.0.7",ae.defaults={domEvents:!1,touchAction:ht,enable:!0,inputTarget:null,inputClass:null,preset:[[ze,{enable:!1}],[qe,{enable:!1},["rotate"]],[We,{direction:K}],[Le,{direction:K},["swipe"]],[De],[De,{event:"doubletap",taps:2},["tap"]],[Xe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ei=1,mt=2;function Ge(e,t){this.options=y({},ae.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=Ot(this),this.touchAction=new $e(this,this.options.touchAction),vt(this,!0),Y(this.options.recognizers,function(i){var s=this.add(new i[0](i[1]));i[2]&&s.recognizeWith(i[2]),i[3]&&s.requireFailure(i[3])},this)}Ge.prototype={set:function(e){return y(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?mt:ei},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,s=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&ee)&&(a=t.curRecognizer=null);for(var r=0;r<s.length;)i=s[r],t.stopped!==mt&&(!a||i==a||i.canRecognizeWith(a))?i.recognize(e):i.reset(),!a&&i.state&(G|de|se)&&(a=t.curRecognizer=i),r++}},get:function(e){if(e instanceof te)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(S(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(S(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,i=c(t,e);i!==-1&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==v&&t!==v){var i=this.handlers;return Y(n(e),function(s){i[s]=i[s]||[],i[s].push(t)}),this}},off:function(e,t){if(e!==v){var i=this.handlers;return Y(n(e),function(s){t?i[s]&&i[s].splice(c(i[s],t),1):delete i[s]}),this}},emit:function(e,t){this.options.domEvents&&ti(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(!(!i||!i.length)){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](t),s++}},destroy:function(){this.element&&vt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function vt(e,t){var i=e.element;if(i.style){var s;Y(e.options.cssProps,function(a,r){s=B(i.style,r),t?(e.oldCssProps[s]=i.style[s],i.style[s]=a):i.style[s]=e.oldCssProps[s]||""}),t||(e.oldCssProps={})}}function ti(e,t){var i=R.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t,t.target.dispatchEvent(i)}y(ae,{INPUT_START:H,INPUT_MOVE:oe,INPUT_END:_,INPUT_CANCEL:q,STATE_POSSIBLE:Oe,STATE_BEGAN:G,STATE_CHANGED:de,STATE_ENDED:se,STATE_RECOGNIZED:ee,STATE_CANCELLED:we,STATE_FAILED:J,DIRECTION_NONE:Se,DIRECTION_LEFT:me,DIRECTION_RIGHT:ve,DIRECTION_UP:ge,DIRECTION_DOWN:Te,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:le,DIRECTION_ALL:Je,Manager:Ge,Input:W,TouchAction:$e,TouchInput:Ne,MouseInput:Pe,PointerEventInput:He,TouchMouseInput:Fe,SingleTouchInput:rt,Recognizer:te,AttrRecognizer:j,Tap:De,Pan:Le,Swipe:We,Pinch:qe,Rotate:ze,Press:Xe,on:z,off:N,each:Y,merge:re,extend:$,assign:y,inherit:E,bindFn:x,prefixed:B});var ii=typeof u<"u"?u:typeof self<"u"?self:{};ii.Hammer=ae,l.exports?l.exports=ae:u[m]=ae})(window,document,"Hammer")})(Ct);var Ui=Ct.exports;const Ri=oi(Ui),Yi="/assets/fallback_swipe-6zZm0tV6.jpg",ki={class:"tinder--cards"},Hi=["src"],Fi={class:"card-details"},Vi={class:"title-card"},$i={class:"badges"},qi={class:"badge badge-price"},Xi={class:"badge badge-condition"},zi={class:"description-card"},Wi={class:"ad-content",style:{height:"100% !important"}},Gi=["id","innerHTML"],xi={__name:"swipeCard",props:{things:{type:Array,required:!0},adConfig:{type:Object,default:()=>({frequency:5,enabled:!0,adClient:"ca-pub-2219376995096244",adSlot:"6240019370",adLayoutKey:"+5y+s5-1j-50+eq"})}},emits:["swipeRight","swipeLeft","allSwiped","adViewed"],setup(l,{emit:u}){function R(n){n.target.src=Yi}const m=l,v=u,X=I(null),o=I([]),C=I([]),T=I(0),w=I(null),L=I(!1),V=I(0),S=I(!1),Y=()=>new Promise((n,c)=>{if(window.adsbygoogle){S.value=!0,n();return}const h=document.createElement("script");h.src=`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${m.adConfig.adClient}`,h.crossOrigin="anonymous",h.async=!0,h.onload=()=>{S.value=!0,n()},h.onerror=()=>{console.error("Failed to load AdSense script"),c()},document.head.appendChild(h)}),ie=n=>`
    <ins class="adsbygoogle"
          style="display:block; width: 100%; min-width: 250px; height: 100%;"
          data-ad-client="ca-pub-2219376995096244"
          data-ad-slot="7745126010"
          data-ad-format="auto"
          data-full-width-responsive="true"
          data-ad-test="on">
    </ins>
  `,y=()=>{const n=`ad_${Date.now()}_${V.value}`;return V.value++,{id:n,isAd:!0,adHtml:ie(),swiped:!1}},$=n=>{if(!m.adConfig.enabled)return n;const c=[],h=m.adConfig.frequency;for(let g=0;g<n.length;g++)c.push(n[g]),(g+1)%h===0&&g<n.length-1&&c.push(y());return c},re=async()=>{if(!S.value)return;await ue(),document.querySelectorAll(".adsense-container ins.adsbygoogle").forEach(c=>{if(!c.dataset.adsbygoogleStatus)try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(h){console.error("AdSense initialization error:",h)}})},E=It(()=>n=>{if(n===0)return{transform:w.value?`translateX(${w.value*100}%) rotate(${w.value*30}deg)`:"",opacity:w.value?0:1,transition:L.value?"transform 0.4s ease-out, opacity 0.4s ease-out":"none",zIndex:o.value.length-n};if(n>0&&n<3){const c=1-n*.05,h=-n*10;return{transform:`scale(${c}) translateY(${h}px)`,zIndex:o.value.length-n}}else return{display:"none",zIndex:o.value.length-n}}),x=n=>{if(n){n.classList.remove("moving"),n.style.transform="",n.style.opacity="",n.style.transition="transform 0.4s ease-out, opacity 0.4s ease-out";const c=n.querySelector(".swipe-left"),h=n.querySelector(".swipe-right");c&&(c.style.opacity=0),h&&(h.style.opacity=0),Ce.replace()}w.value=null,L.value=!1},p=(n,c)=>{if(L.value||C.value.length===0)return;c.classList.add("moving");const h=X.value,g=n.deltaX;h.classList.toggle("tinder_love",g>0),h.classList.toggle("tinder_nope",g<0),c.style.transform=`translate(${g}px, ${n.deltaY}px) rotate(${g*.03}deg)`;const B=Math.abs(g)/200,U=c.querySelector(".swipe-left"),k=c.querySelector(".swipe-right");U&&(U.style.opacity=g<0?B:0),k&&(k.style.opacity=g>0?B:0),Ce.replace()},D=(n,c)=>{if(L.value||C.value.length===0)return;const h=n.deltaX,g=h>0;if(Math.abs(h)>80){w.value=g?1:-1,L.value=!0;const U=C.value[0];setTimeout(()=>{U&&(o.value=o.value.map(k=>k.id===U.id?{...k,swiped:!0}:k),U.isAd?v("adViewed",{ad:U,direction:g?"right":"left",timestamp:Date.now()}):v(g?"swipeRight":"swipeLeft",U),T.value++,z(),ue(()=>x(c)))},300)}else{x(c);const U=c.querySelector(".swipe-left"),k=c.querySelector(".swipe-right");U&&(U.style.opacity=0),k&&(k.style.opacity=0)}},z=()=>{C.value=o.value.slice(T.value,T.value+3).filter(n=>!n.swiped),(C.value.length===0&&o.value.some(n=>!n.swiped)||C.value.length===0&&o.value.every(n=>n.swiped))&&v("allSwiped"),C.value.some(n=>n.isAd)&&ue(()=>{re()})},N=()=>{const n=document.querySelector(".tinder--card");if(n){const c=new Ri(n);c.on("pan",h=>p(h,n)),c.on("panend",h=>D(h,n))}},fe=n=>{if(L.value||C.value.length===0)return;const c=document.querySelector(".tinder--card"),h=C.value[0];if(!c||!h)return;const g=n?1:-1;w.value=g,L.value=!0;const B=c.querySelector(".swipe-left"),U=c.querySelector(".swipe-right");B&&(B.style.opacity=g===-1?1:0),U&&(U.style.opacity=g===1?1:0),Ce.replace(),c.style.transition="transform 0.4s ease-out, opacity 0.4s ease-out",c.style.transform=`translateX(${g*100}%) rotate(${g*30}deg)`,c.style.opacity=0,setTimeout(()=>{o.value=o.value.map(k=>k.id===h.id?{...k,swiped:!0}:k),h.isAd?v("adViewed",{ad:h,direction:n?"right":"left",timestamp:Date.now()}):v(n?"swipeRight":"swipeLeft",h),T.value++,z(),ue(()=>x(c))},400)},Z=n=>{n.key==="ArrowLeft"?(n.preventDefault(),fe(!1)):n.key==="ArrowRight"&&(n.preventDefault(),fe(!0))};return Be(async()=>{try{await Y();const n=$(m.things.value);o.value=n.map(c=>({...c,swiped:!1})),z(),ue(N),window.addEventListener("keydown",Z)}catch(n){console.error("Failed to initialize ads:",n),o.value=m.things.value.map(c=>({...c,swiped:!1})),z(),ue(N)}}),je(()=>{window.removeEventListener("keydown",Z)}),gt(C,()=>{ue(N)}),gt(()=>m.things,async n=>{const c=$(n);o.value=c.map(h=>({...h,swiped:!1})),T.value=0,V.value=0,z()}),(n,c)=>(P(),b("div",{ref_key:"tinderContainer",ref:X,class:"tinder-container"},[f("div",ki,[(P(!0),b(he,null,Ie(C.value,(h,g)=>(P(),b("div",{key:h.id,class:li(["tinder--card",{"ad-card":h.isAd}]),style:ci([E.value(g),{height:"100% !important"}])},[c[1]||(c[1]=f("div",{class:"swipe-overlay swipe-left"},[f("i",{"data-feather":"thumbs-down",class:"like"})],-1)),c[2]||(c[2]=f("div",{class:"swipe-overlay swipe-right"},[f("i",{"data-feather":"thumbs-up",class:"like"})],-1)),h.isAd?(P(),b(he,{key:1},[c[0]||(c[0]=f("div",{class:"ad-indicator"},[f("span",{class:"ad-label"},"Sponsored")],-1)),f("div",Wi,[f("div",{id:`adsense-${h.id}`,class:"adsense-container",style:{height:"100% !important"},innerHTML:h.adHtml},null,8,Gi)])],64)):(P(),b(he,{key:0},[f("img",{src:h.imagesUrl,alt:"Card image",class:"card-image",onError:R},null,40,Hi),f("div",Fi,[f("h3",Vi,O(h.name),1),f("div",$i,[f("span",qi,"~$"+O(h.price),1),f("span",Xi,O(n.$t(h.condition.name)),1)]),f("p",zi,O(h.description),1)])],64))],6))),128))])],512))}},Bi=Et(xi,[["__scopeId","data-v-408bd98e"]]),ji={style:{overflow:"hidden !important"}},Zi={key:0,class:"noSwaps"},es={__name:"swaps",setup(l){const{t:u,locale:R}=ui(),m=wt();je(()=>{m.commit("setLoading",!0),E()});const v=p=>{console.log("Ad viewed:",p.direction,"at",new Date(p.timestamp))},X=I(""),o=I(""),C=I(!1),T=Tt([]),w=new di;Be(async()=>{m.commit("setLoading",!0),Ce.replace();const p=m.getters.getCachedSwipes;p&&p.length>0?(T.value=p,S.value=!0,m.commit("setLoading",!1)):await w.getFilteredThings().then(D=>{T.value=D,m.commit("setCachedSwipes",D),S.value=!0,D==null&&x(),m.commit("setLoading",!1)}),m.commit("setLoading",!1)});const L=It(()=>T.value.length===0),V=Tt({en:[{title:"ðŸŽ‰ Match Found!",message:"You've found a swap partner! Ready to exchange your items? Let's make this happen!"},{title:"ðŸ¤ Itâ€™s a Match!",message:"Great news! You both want to swap. Tap below to chat and finalize the exchange!"},{title:"ðŸ¥³ Swap Time!",message:"You matched! Letâ€™s get this swap rollingâ€”hit the button to connect!"},{title:"ðŸš€ Match Alert!",message:"Youâ€™ve got a match! Donâ€™t miss outâ€”click below to start your swap journey!"},{title:"ðŸŽŠ Itâ€™s a Match!",message:"You and your match are ready to swap! Message them to arrange the details!"},{title:"ðŸ’¥ Exciting Match!",message:"You found someone to swap with! Letâ€™s make this exchange happen!"},{title:"âœ¨ Match Made!",message:"Congratulations! Youâ€™ve found a great swap partner. Time to chat!"},{title:"ðŸŽˆ You Matched!",message:"Awesome! You matched with someone interested in swapping. Connect now!"},{title:"ðŸŒŸ Swap Partner Found!",message:"Youâ€™ve found a swap partner! Ready to chat and arrange the exchange?"},{title:"ðŸŽ¶ Itâ€™s a Perfect Match!",message:"What a coincidence! You both want to swap. Letâ€™s get started!"},{title:"ðŸ”” Match Notification!",message:"You matched with someone looking to swap. Donâ€™t waitâ€”message them now!"},{title:"ðŸ† Match Success!",message:"Great job! You have a match. Time to coordinate your swap!"},{title:"ðŸ’– Itâ€™s a Great Match!",message:"Youâ€™ve matched with a fellow swapper! Letâ€™s talk details!"},{title:"ðŸ’« You Matched Up!",message:"Fantastic! You found a swap partner. Click below to start chatting!"},{title:"ðŸ”¥ Hot Match!",message:"Youâ€™ve got a match! Time to connect and finalize your swap!"},{title:"ðŸ“¦ Swap Partner Alert!",message:"You matched with someone ready to swap. Reach out to them now!"},{title:"ðŸš¦ Match Confirmed!",message:"Youâ€™ve found a swap partner! Ready to exchange details?"},{title:"ðŸ’¡ Match Found!",message:"Great news! You have a match. Start chatting to arrange the swap!"},{title:"ðŸ€ Lucky Match!",message:"You matched with someone who wants to swap. Donâ€™t miss your chance!"},{title:"ðŸ”— Connection Established!",message:"Youâ€™ve got a match! Letâ€™s connect and make that swap happen!"},{title:"ðŸ¥‡ Itâ€™s a Winner!",message:"You found a swap partner! Ready to start your exchange journey?"}],es:[{title:"ðŸŽ‰ Â¡Intercambio Encontrado!",message:"Â¡Has encontrado un compaÃ±ero para intercambiar! Â¿Listo para hacer el cambio? Â¡HagÃ¡moslo realidad!"},{title:"ðŸ¤ Â¡Es un Match!",message:"Â¡Buenas noticias! Ambos quieren intercambiar. Â¡Toca abajo para chatear y cerrar el trato!"},{title:"ðŸ¥³ Â¡Hora de Intercambiar!",message:"Â¡Tienes un match! Vamos a empezar el intercambioâ€”Â¡haz clic para conectar!"},{title:"ðŸš€ Â¡Alerta de Match!",message:"Â¡Tienes un match! No lo dejes pasarâ€”haz clic abajo para comenzar tu intercambio."},{title:"ðŸŽŠ Â¡Es un Match!",message:"Â¡TÃº y tu compaÃ±ero estÃ¡n listos para intercambiar! EscrÃ­bele para coordinar los detalles."},{title:"ðŸ’¥ Â¡Match Emocionante!",message:"Â¡Encontraste a alguien para intercambiar! Â¡Hagamos este intercambio realidad!"},{title:"âœ¨ Â¡Match Perfecto!",message:"Â¡Felicidades! Has encontrado un gran compaÃ±ero de intercambio. Â¡Hora de chatear!"},{title:"ðŸŽˆ Â¡Tienes un Match!",message:"Â¡Genial! Hiciste match con alguien interesado en intercambiar. Â¡Conecta ahora!"},{title:"ðŸŒŸ Â¡CompaÃ±ero de Intercambio Encontrado!",message:"Â¡Has encontrado un compaÃ±ero para intercambiar! Â¿Listo para chatear y organizar el intercambio?"},{title:"ðŸŽ¶ Â¡Es un Match Perfecto!",message:"Â¡QuÃ© coincidencia! Ambos quieren intercambiar. Â¡Empecemos!"},{title:"ðŸ”” Â¡NotificaciÃ³n de Match!",message:"Has hecho match con alguien interesado en intercambiar. Â¡No esperesâ€”envÃ­ale un mensaje ahora!"},{title:"ðŸ† Â¡Match Exitoso!",message:"Â¡Buen trabajo! Tienes un match. Â¡Hora de coordinar el intercambio!"},{title:"ðŸ’– Â¡Gran Match!",message:"Â¡Has hecho match con otro intercambiador! Â¡Hablemos de los detalles!"},{title:"ðŸ’« Â¡Tienes un Match!",message:"Â¡FantÃ¡stico! Has encontrado un compaÃ±ero de intercambio. Â¡Haz clic abajo para empezar a chatear!"},{title:"ðŸ”¥ Â¡Match Caliente!",message:"Â¡Tienes un match! Â¡Es hora de conectar y cerrar el intercambio!"},{title:"ðŸ“¦ Â¡Alerta de Intercambio!",message:"Hiciste match con alguien listo para intercambiar. Â¡ContÃ¡ctalo ahora!"},{title:"ðŸš¦ Â¡Match Confirmado!",message:"Â¡Has encontrado un compaÃ±ero de intercambio! Â¿Listo para intercambiar detalles?"},{title:"ðŸ’¡ Â¡Match Encontrado!",message:"Â¡Buenas noticias! Tienes un match. Â¡Empieza a chatear para organizar el intercambio!"},{title:"ðŸ€ Â¡Match Afortunado!",message:"Hiciste match con alguien que quiere intercambiar. Â¡No pierdas tu oportunidad!"},{title:"ðŸ”— Â¡ConexiÃ³n Establecida!",message:"Â¡Tienes un match! Â¡Conectemos y hagamos que el intercambio suceda!"},{title:"ðŸ¥‡ Â¡Es un Ganador!",message:"Â¡Encontraste un compaÃ±ero de intercambio! Â¿Listo para comenzar tu experiencia?"}]}),S=I(!1),Y=()=>{S.value=!1},ie=p=>{m.commit("setLoading",!0),S.value=!1,w.getFilteredThings({range:p.range,category_id:p.category,condition_id:p.condition,material_id:p.material,color_id:p.color,weight:[0,p.weight],price:[0,p.price],search:p.searchTerm}).then(D=>{T.value=D,m.commit("setCachedSwipes",T.value),S.value=!0,m.commit("setLoading",!1),D==null&&x()})},y=I([]),$=p=>{y.value.push({thing_id:p.id,user_id:p.user_id,liked:!0,matched:p.liked}),y.value.length==10&&E(),p.liked&&ai.fire({title:V[R.value][Math.floor(Math.random()*V[R.value].length)].title,text:V[R.value][Math.floor(Math.random()*V[R.value].length)].message,icon:"success",iconHtml:'<i data-feather="shuffle" class="custom-icon"></i>',timer:2800,timerProgressBar:!0,showConfirmButton:!1,backdrop:!0,customClass:{popup:"custom-modal",icon:"custom-icon-wrapper"},willOpen:()=>{Ce.replace()}})},re=p=>{y.value.push({thing_id:p.id,user_id:p.user_id,liked:!1,matched:!1}),y.value.length==10&&E()},E=async()=>{if(y.value.length===0)return;const p=[...y.value],D=p.map(N=>N.thing_id),z=T.value.filter(N=>!D.includes(N.id));try{y.value=[],m.commit("setCachedSwipes",z);const N=await w.loadSwipes({swipes:p});N.success&&m.commit("addMatches",N.new_chats)}catch(N){console.error("Failed to send swipes:",N)}},x=()=>{X.value="info",o.value=u("Try Searching for Something Else"),C.value=!0,setTimeout(()=>{C.value=!1},2800),T.value.length=0,m.commit("setCachedSwipes",[]),E()};return(p,D)=>(P(),b("div",ji,[yt(si,{type:X.value,text:o.value,launch:C.value},null,8,["type","text","launch"]),yt(Di,{onSearchThingsEmit:ie,onShowFiltersEmit:D[0]||(D[0]=z=>Y())}),S.value&&L.value?(P(),b("h2",Zi,O(p.$t("Looks like you've seen everything! Try searching for something new or expanding your range to discover more.")),1)):xe("",!0),S.value?(P(),hi(Bi,{key:1,onAdViewed:v,things:T,onSwipeRight:$,onSwipeLeft:re,onAllSwiped:x},null,8,["things"])):xe("",!0)]))}};export{es as default};
